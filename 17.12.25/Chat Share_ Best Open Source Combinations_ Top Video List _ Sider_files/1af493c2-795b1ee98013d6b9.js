!function(){try{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=(new t.Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="c85f8e66-42a0-4e31-9261-d2ec1c7774a0",t._sentryDebugIdIdentifier="sentry-dbid-c85f8e66-42a0-4e31-9261-d2ec1c7774a0")}catch(t){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80879],{48825:function(t,e,a){a.d(e,{C1:function(){return h},Fh:function(){return W},Lf:function(){return eu},XO:function(){return b},Yn:function(){return eg},ZH:function(){return T},aH:function(){return ef},dW:function(){return ed},gU:function(){return ey},jr:function(){return g},us:function(){return I}});var l,n=a(11384),i=a(6355),r=a(86598),o=a(80594),s=a(99322),c=a(50777),d=a(89428),h=(0,s.eW)(async(t,e,a)=>{var l,n,i;let d,h;let u=e.useHtmlLabels||(0,s.ku)(null===(l=(0,s.nV)())||void 0===l?void 0:l.htmlLabels);d=a||"node default";let g=t.insert("g").attr("class",d).attr("id",e.domId||e.id),y=g.insert("g").attr("class","label").attr("style",(0,o.R7)(e.labelStyle));h=void 0===e.label?"":"string"==typeof e.label?e.label:e.label[0];let f=await (0,r.rw)(y,(0,s.oO)((0,o.SH)(h),(0,s.nV)()),{useHtmlLabels:u,width:e.width||(null===(n=(0,s.nV)().flowchart)||void 0===n?void 0:n.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img}),p=f.getBBox(),m=(null!==(i=null==e?void 0:e.padding)&&void 0!==i?i:0)/2;if(u){let t=f.children[0],e=(0,c.Ys)(f),a=t.getElementsByTagName("img");if(a){let t=""===h.replace(/<img[^>]*>/g,"").trim();await Promise.all([...a].map(e=>new Promise(a=>{function l(){if(e.style.display="flex",e.style.flexDirection="column",t){let t=(0,s.nV)().fontSize?(0,s.nV)().fontSize:window.getComputedStyle(document.body).fontSize,[a=s.vZ.fontSize]=(0,o.VG)(t),l=5*a+"px";e.style.minWidth=l,e.style.maxWidth=l}else e.style.width="100%";a(e)}(0,s.eW)(l,"setupImage"),setTimeout(()=>{e.complete&&l()}),e.addEventListener("error",l),e.addEventListener("load",l)})))}p=t.getBoundingClientRect(),e.attr("width",p.width),e.attr("height",p.height)}return u?y.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"):y.attr("transform","translate(0, "+-p.height/2+")"),e.centerLabel&&y.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),y.insert("rect",":first-child"),{shapeSvg:g,bbox:p,halfPadding:m,label:y}},"labelHelper"),u=(0,s.eW)(async(t,e,a)=>{var l,n,i,d,h,u;let g=a.useHtmlLabels||(0,s.ku)(null===(n=(0,s.nV)())||void 0===n?void 0:null===(l=n.flowchart)||void 0===l?void 0:l.htmlLabels),y=t.insert("g").attr("class","label").attr("style",a.labelStyle||""),f=await (0,r.rw)(y,(0,s.oO)((0,o.SH)(e),(0,s.nV)()),{useHtmlLabels:g,width:a.width||(null===(d=(0,s.nV)())||void 0===d?void 0:null===(i=d.flowchart)||void 0===i?void 0:i.wrappingWidth),style:a.labelStyle,addSvgBackground:!!a.icon||!!a.img}),p=f.getBBox(),m=a.padding/2;if((0,s.ku)(null===(u=(0,s.nV)())||void 0===u?void 0:null===(h=u.flowchart)||void 0===h?void 0:h.htmlLabels)){let t=f.children[0],e=(0,c.Ys)(f);p=t.getBoundingClientRect(),e.attr("width",p.width),e.attr("height",p.height)}return g?y.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"):y.attr("transform","translate(0, "+-p.height/2+")"),a.centerLabel&&y.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),y.insert("rect",":first-child"),{shapeSvg:t,bbox:p,halfPadding:m,label:y}},"insertLabel"),g=(0,s.eW)((t,e)=>{let a=e.node().getBBox();t.width=a.width,t.height=a.height},"updateNodeBounds"),y=(0,s.eW)((t,e)=>("handDrawn"===t.look?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function f(t){let e=t.map((t,e)=>"".concat(0===e?"M":"L").concat(t.x,",").concat(t.y));return e.push("Z"),e.join(" ")}function p(t,e,a,l,n,i){let r=[],o=a-t,s=2*Math.PI/(o/i),c=e+(l-e)/2;for(let e=0;e<=50;e++){let a=t+e/50*o,l=c+n*Math.sin(s*(a-t));r.push({x:a,y:l})}return r}function m(t,e,a,l,n,i){let r=[],o=n*Math.PI/180,s=(i*Math.PI/180-o)/(l-1);for(let n=0;n<l;n++){let l=o+n*s,i=t+a*Math.cos(l),c=e+a*Math.sin(l);r.push({x:-i,y:-c})}return r}(0,s.eW)(f,"createPathFromPoints"),(0,s.eW)(p,"generateFullSineWavePoints"),(0,s.eW)(m,"generateCirclePoints");var w=(0,s.eW)((t,e)=>{var a,l,n=t.x,i=t.y,r=e.x-n,o=e.y-i,s=t.width/2,c=t.height/2;return Math.abs(o)*s>Math.abs(r)*c?(o<0&&(c=-c),a=0===o?0:c*r/o,l=c):(r<0&&(s=-s),a=s,l=0===r?0:s*o/r),{x:n+a,y:i+l}},"intersectRect");function x(t,e){e&&t.attr("style",e)}async function v(t){let e=(0,c.Ys)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),a=e.append("xhtml:div"),l=t.label;t.label&&(0,s.l0)(t.label)&&(l=await (0,s.uT)(t.label.replace(s.SY.lineBreakRegex,"\n"),(0,s.nV)()));let n=t.isNode?"nodeLabel":"edgeLabel";return a.html('<span class="'+n+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+l+"</span>"),x(a,t.labelStyle),a.style("display","inline-block"),a.style("padding-right","1px"),a.style("white-space","nowrap"),a.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}(0,s.eW)(x,"applyStyle"),(0,s.eW)(v,"addHtmlLabel");var b=(0,s.eW)(async(t,e,a,l)=>{let n=t||"";if("object"==typeof n&&(n=n[0]),(0,s.ku)((0,s.nV)().flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),s.cM.info("vertexText"+n);let t={isNode:l,label:(0,o.SH)(n).replace(/fa[blrs]?:fa-[\w-]+/g,t=>"<i class='".concat(t.replace(":"," "),"'></i>")),labelStyle:e?e.replace("fill:","color:"):e};return await v(t)}{let t=document.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",e.replace("color:","fill:"));for(let e of"string"==typeof n?n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?n:[]){let l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),a?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=e.trim(),t.appendChild(l)}return t}},"createLabel"),k=(0,s.eW)((t,e,a,l,n)=>["M",t+n,e,"H",t+a-n,"A",n,n,0,0,1,t+a,e+n,"V",e+l-n,"A",n,n,0,0,1,t+a-n,e+l,"H",t+n,"A",n,n,0,0,1,t,e+l-n,"V",e+n,"A",n,n,0,0,1,t+n,e,"Z"].join(" "),"createRoundedRectPathD"),M=(0,s.eW)(t=>{let{handDrawnSeed:e}=(0,s.nV)();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),S=(0,s.eW)(t=>{let e=D([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),D=(0,s.eW)(t=>{let e=new Map;return t.forEach(t=>{let[a,l]=t.split(":");e.set(a.trim(),null==l?void 0:l.trim())}),e},"styles2Map"),W=(0,s.eW)(t=>"color"===t||"font-size"===t||"font-family"===t||"font-weight"===t||"font-style"===t||"text-decoration"===t||"text-align"===t||"text-transform"===t||"line-height"===t||"letter-spacing"===t||"word-spacing"===t||"text-shadow"===t||"text-overflow"===t||"white-space"===t||"word-wrap"===t||"word-break"===t||"overflow-wrap"===t||"hyphens"===t,"isLabelStyle"),C=(0,s.eW)(t=>{let{stylesArray:e}=S(t),a=[],l=[],n=[],i=[];return e.forEach(t=>{let e=t[0];W(e)?a.push(t.join(":")+" !important"):(l.push(t.join(":")+" !important"),e.includes("stroke")&&n.push(t.join(":")+" !important"),"fill"===e&&i.push(t.join(":")+" !important"))}),{labelStyles:a.join(";"),nodeStyles:l.join(";"),stylesArray:e,borderStyles:n,backgroundStyles:i}},"styles2String"),B=(0,s.eW)((t,e)=>{var a;let{themeVariables:l,handDrawnSeed:n}=(0,s.nV)(),{nodeBorder:i,mainBkg:r}=l,{stylesMap:o}=S(t);return Object.assign({roughness:.7,fill:o.get("fill")||r,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||i,seed:n,strokeWidth:(null===(a=o.get("stroke-width"))||void 0===a?void 0:a.replace("px",""))||1.3,fillLineDash:[0,0]},e)},"userNodeOverrides"),N=(0,s.eW)(async(t,e)=>{let a;s.cM.info("Creating subgraph rect for ",e.id,e);let l=(0,s.nV)(),{themeVariables:i,handDrawnSeed:o}=l,{clusterBkg:h,clusterBorder:u}=i,{labelStyles:g,nodeStyles:y,borderStyles:f,backgroundStyles:p}=C(e),m=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),x=(0,s.ku)(l.flowchart.htmlLabels),v=m.insert("g").attr("class","cluster-label "),b=await (0,r.rw)(v,e.label,{style:e.labelStyle,useHtmlLabels:x,isNode:!0}),M=b.getBBox();if((0,s.ku)(l.flowchart.htmlLabels)){let t=b.children[0],e=(0,c.Ys)(b);M=t.getBoundingClientRect(),e.attr("width",M.width),e.attr("height",M.height)}let S=e.width<=M.width+e.padding?M.width+e.padding:e.width;e.width<=M.width+e.padding?e.diff=(S-e.width)/2-e.padding:e.diff=-e.padding;let D=e.height,W=e.x-S/2,N=e.y-D/2;if(s.cM.trace("Data ",e,JSON.stringify(e)),"handDrawn"===e.look){let t=d.Z.svg(m),l=B(e,{roughness:.7,fill:h,stroke:u,fillWeight:3,seed:o}),n=t.path(k(W,N,S,D,0),l);(a=m.insert(()=>(s.cM.debug("Rough node insert CXC",n),n),":first-child")).select("path:nth-child(2)").attr("style",f.join(";")),a.select("path").attr("style",p.join(";").replace("fill","stroke"))}else(a=m.insert("rect",":first-child")).attr("style",y).attr("rx",e.rx).attr("ry",e.ry).attr("x",W).attr("y",N).attr("width",S).attr("height",D);let{subGraphTitleTopMargin:A}=(0,n.L)(l);if(v.attr("transform","translate(".concat(e.x-M.width/2,", ").concat(e.y-e.height/2+A,")")),g){let t=v.select("span");t&&t.attr("style",g)}let L=a.node().getBBox();return e.offsetX=0,e.width=L.width,e.height=L.height,e.offsetY=M.height-e.padding/2,e.intersect=function(t){return w(e,t)},{cluster:m,labelBBox:M}},"rect"),A=(0,s.eW)((t,e)=>{let a=t.insert("g").attr("class","note-cluster").attr("id",e.id),l=a.insert("rect",":first-child"),n=0*e.padding,i=n/2;l.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-i).attr("y",e.y-e.height/2-i).attr("width",e.width+n).attr("height",e.height+n).attr("fill","none");let r=l.node().getBBox();return e.width=r.width,e.height=r.height,e.intersect=function(t){return w(e,t)},{cluster:a,labelBBox:{width:0,height:0}}},"noteGroup"),L=(0,s.eW)(async(t,e)=>{let a;let l=(0,s.nV)(),{themeVariables:n,handDrawnSeed:i}=l,{altBackground:r,compositeBackground:o,compositeTitleBackground:h,nodeBorder:u}=n,g=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),y=g.insert("g",":first-child"),f=g.insert("g").attr("class","cluster-label"),p=g.append("rect"),m=f.node().appendChild(await b(e.label,e.labelStyle,void 0,!0)),x=m.getBBox();if((0,s.ku)(l.flowchart.htmlLabels)){let t=m.children[0],e=(0,c.Ys)(m);x=t.getBoundingClientRect(),e.attr("width",x.width),e.attr("height",x.height)}let v=0*e.padding,M=(e.width<=x.width+e.padding?x.width+e.padding:e.width)+v;e.width<=x.width+e.padding?e.diff=(M-e.width)/2-e.padding:e.diff=-e.padding;let S=e.height+v,D=e.height+v-x.height-6,W=e.x-M/2,C=e.y-S/2;e.width=M;let B=e.y-e.height/2-v/2+x.height+2;if("handDrawn"===e.look){let t=e.cssClasses.includes("statediagram-cluster-alt"),l=d.Z.svg(g),n=e.rx||e.ry?l.path(k(W,C,M,S,10),{roughness:.7,fill:h,fillStyle:"solid",stroke:u,seed:i}):l.rectangle(W,C,M,S,{seed:i});a=g.insert(()=>n,":first-child");let s=l.rectangle(W,B,M,D,{fill:t?r:o,fillStyle:t?"hachure":"solid",stroke:u,seed:i});a=g.insert(()=>n,":first-child"),p=g.insert(()=>s)}else(a=y.insert("rect",":first-child")).attr("class","outer").attr("x",W).attr("y",C).attr("width",M).attr("height",S).attr("data-look",e.look),p.attr("class","inner").attr("x",W).attr("y",B).attr("width",M).attr("height",D);f.attr("transform","translate(".concat(e.x-x.width/2,", ").concat(C+1-((0,s.ku)(l.flowchart.htmlLabels)?0:3),")"));let N=a.node().getBBox();return e.height=N.height,e.offsetX=0,e.offsetY=x.height-e.padding/2,e.labelBBox=x,e.intersect=function(t){return w(e,t)},{cluster:g,labelBBox:x}},"roundedWithTitle"),R=(0,s.eW)(async(t,e)=>{let a;s.cM.info("Creating subgraph rect for ",e.id,e);let l=(0,s.nV)(),{themeVariables:i,handDrawnSeed:o}=l,{clusterBkg:h,clusterBorder:u}=i,{labelStyles:g,nodeStyles:y,borderStyles:f,backgroundStyles:p}=C(e),m=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),x=(0,s.ku)(l.flowchart.htmlLabels),v=m.insert("g").attr("class","cluster-label "),b=await (0,r.rw)(v,e.label,{style:e.labelStyle,useHtmlLabels:x,isNode:!0,width:e.width}),M=b.getBBox();if((0,s.ku)(l.flowchart.htmlLabels)){let t=b.children[0],e=(0,c.Ys)(b);M=t.getBoundingClientRect(),e.attr("width",M.width),e.attr("height",M.height)}let S=e.width<=M.width+e.padding?M.width+e.padding:e.width;e.width<=M.width+e.padding?e.diff=(S-e.width)/2-e.padding:e.diff=-e.padding;let D=e.height,W=e.x-S/2,N=e.y-D/2;if(s.cM.trace("Data ",e,JSON.stringify(e)),"handDrawn"===e.look){let t=d.Z.svg(m),l=B(e,{roughness:.7,fill:h,stroke:u,fillWeight:4,seed:o}),n=t.path(k(W,N,S,D,e.rx),l);(a=m.insert(()=>(s.cM.debug("Rough node insert CXC",n),n),":first-child")).select("path:nth-child(2)").attr("style",f.join(";")),a.select("path").attr("style",p.join(";").replace("fill","stroke"))}else(a=m.insert("rect",":first-child")).attr("style",y).attr("rx",e.rx).attr("ry",e.ry).attr("x",W).attr("y",N).attr("width",S).attr("height",D);let{subGraphTitleTopMargin:A}=(0,n.L)(l);if(v.attr("transform","translate(".concat(e.x-M.width/2,", ").concat(e.y-e.height/2+A,")")),g){let t=v.select("span");t&&t.attr("style",g)}let L=a.node().getBBox();return e.offsetX=0,e.width=L.width,e.height=L.height,e.offsetY=M.height-e.padding/2,e.intersect=function(t){return w(e,t)},{cluster:m,labelBBox:M}},"kanbanSection"),P={rect:N,squareRect:N,roundedWithTitle:L,noteGroup:A,divider:(0,s.eW)((t,e)=>{let a;let{themeVariables:l,handDrawnSeed:n}=(0,s.nV)(),{nodeBorder:i}=l,r=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),o=r.insert("g",":first-child"),c=0*e.padding,h=e.width+c;e.diff=-e.padding;let u=e.height+c,g=e.x-h/2,y=e.y-u/2;if(e.width=h,"handDrawn"===e.look){let t=d.Z.svg(r).rectangle(g,y,h,u,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:i,seed:n});a=r.insert(()=>t,":first-child")}else(a=o.insert("rect",":first-child")).attr("class","divider").attr("x",g).attr("y",y).attr("width",h).attr("height",u).attr("data-look",e.look);let f=a.node().getBBox();return e.height=f.height,e.offsetX=0,e.offsetY=0,e.intersect=function(t){return w(e,t)},{cluster:r,labelBBox:{}}},"divider"),kanbanSection:R},Z=new Map,I=(0,s.eW)(async(t,e)=>{let a=e.shape||"rect",l=await P[a](t,e);return Z.set(e.id,l),l},"insertCluster"),T=(0,s.eW)(()=>{Z=new Map},"clear");function E(t,e,a,l){var n=t.x,i=t.y,r=n-l.x,o=i-l.y,s=Math.sqrt(e*e*o*o+a*a*r*r),c=Math.abs(e*a*r/s);l.x<n&&(c=-c);var d=Math.abs(e*a*o/s);return l.y<i&&(d=-d),{x:n+c,y:i+d}}function j(t,e,a){return E(t,e,e,a)}function H(t,e,a,l){var n,i,r,o,s,c,d,h,u,g,y,f,p;if(n=e.y-t.y,r=t.x-e.x,s=e.x*t.y-t.x*e.y,u=n*a.x+r*a.y+s,g=n*l.x+r*l.y+s,!(0!==u&&0!==g&&V(u,g))&&(i=l.y-a.y,o=a.x-l.x,c=l.x*a.y-a.x*l.y,d=i*t.x+o*t.y+c,h=i*e.x+o*e.y+c,!(0!==d&&0!==h&&V(d,h))&&0!=(y=n*o-i*r)))return f=Math.abs(y/2),{x:(p=r*c-o*s)<0?(p-f)/y:(p+f)/y,y:(p=i*s-n*c)<0?(p-f)/y:(p+f)/y}}function V(t,e){return t*e>0}function Y(t,e,a){let l=t.x,n=t.y,i=[],r=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;"function"==typeof e.forEach?e.forEach(function(t){r=Math.min(r,t.x),o=Math.min(o,t.y)}):(r=Math.min(r,e.x),o=Math.min(o,e.y));let s=l-t.width/2-r,c=n-t.height/2-o;for(let l=0;l<e.length;l++){let n=e[l],r=e[l<e.length-1?l+1:0],o=H(t,a,{x:s+n.x,y:c+n.y},{x:s+r.x,y:c+r.y});o&&i.push(o)}return i.length?(i.length>1&&i.sort(function(t,e){let l=t.x-a.x,n=t.y-a.y,i=Math.sqrt(l*l+n*n),r=e.x-a.x,o=e.y-a.y,s=Math.sqrt(r*r+o*o);return i<s?-1:i===s?0:1}),i[0]):t}(0,s.eW)(function(t,e){return t.intersect(e)},"intersectNode"),(0,s.eW)(E,"intersectEllipse"),(0,s.eW)(j,"intersectCircle"),(0,s.eW)(H,"intersectLine"),(0,s.eW)(V,"sameSign"),(0,s.eW)(Y,"intersectPolygon");var _={circle:j,polygon:Y,rect:w};function q(t,e){let{labelStyles:a}=C(e);e.labelStyle=a;let l=y(e),n=l;l||(n="anchor");let i=t.insert("g").attr("class",n).attr("id",e.domId||e.id),{cssStyles:r}=e,c=d.Z.svg(i),h=B(e,{fill:"black",stroke:"none",fillStyle:"solid"});"handDrawn"!==e.look&&(h.roughness=0);let u=c.circle(0,0,2,h),f=i.insert(()=>u,":first-child");return f.attr("class","anchor").attr("style",(0,o.R7)(r)),g(e,f),e.intersect=function(t){return s.cM.info("Circle intersect",e,1,t),_.circle(e,1,t)},i}function z(t,e,a,l,n,i,r){let o=Math.atan2(l-e,a-t),s=Math.sqrt(((a-t)/2/n)**2+((l-e)/2/i)**2);if(s>1)throw Error("The given radii are too small to create an arc between the points.");let c=Math.sqrt(1-s**2),d=(t+a)/2+c*i*Math.sin(o)*(r?-1:1),h=(e+l)/2-c*n*Math.cos(o)*(r?-1:1),u=Math.atan2((e-h)/i,(t-d)/n),g=Math.atan2((l-h)/i,(a-d)/n)-u;r&&g<0&&(g+=2*Math.PI),!r&&g>0&&(g-=2*Math.PI);let y=[];for(let t=0;t<20;t++){let e=u+t/19*g,a=d+n*Math.cos(e),l=h+i*Math.sin(e);y.push({x:a,y:l})}return y}async function O(t,e){let{labelStyles:a,nodeStyles:l}=C(e);e.labelStyle=a;let{shapeSvg:n,bbox:i}=await h(t,e,y(e)),r=i.width+e.padding+20,o=i.height+e.padding,s=o/2,c=s/(2.5+o/50),{cssStyles:u}=e,p=[{x:r/2,y:-o/2},{x:-r/2,y:-o/2},...z(-r/2,-o/2,-r/2,o/2,c,s,!1),{x:r/2,y:o/2},...z(r/2,o/2,r/2,-o/2,c,s,!0)],m=d.Z.svg(n),w=B(e,{});"handDrawn"!==e.look&&(w.roughness=0,w.fillStyle="solid");let x=f(p),v=m.path(x,w),b=n.insert(()=>v,":first-child");return b.attr("class","basic label-container"),u&&"handDrawn"!==e.look&&b.selectAll("path").attr("style",u),l&&"handDrawn"!==e.look&&b.selectAll("path").attr("style",l),b.attr("transform","translate(".concat(c/2,", 0)")),g(e,b),e.intersect=function(t){return _.polygon(e,p,t)},n}function F(t,e,a,l){return t.insert("polygon",":first-child").attr("points",l.map(function(t){return t.x+","+t.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+a/2+")")}async function X(t,e){let a;let{labelStyles:l,nodeStyles:n}=C(e);e.labelStyle=l;let{shapeSvg:i,bbox:r}=await h(t,e,y(e)),o=r.height+e.padding,s=r.width+e.padding+12,c=-o,u=[{x:12,y:c},{x:s,y:c},{x:s,y:0},{x:0,y:0},{x:0,y:c+12},{x:12,y:c}],{cssStyles:p}=e;if("handDrawn"===e.look){let t=d.Z.svg(i),l=B(e,{}),n=f(u),r=t.path(n,l);a=i.insert(()=>r,":first-child").attr("transform","translate(".concat(-s/2,", ").concat(o/2,")")),p&&a.attr("style",p)}else a=F(i,s,o,u);return n&&a.attr("style",n),g(e,a),e.intersect=function(t){return _.polygon(e,u,t)},i}function J(t,e){var a,l;let{nodeStyles:n}=C(e);e.label="";let i=t.insert("g").attr("class",y(e)).attr("id",null!==(a=e.domId)&&void 0!==a?a:e.id),{cssStyles:r}=e,o=Math.max(28,null!==(l=e.width)&&void 0!==l?l:0),s=[{x:0,y:o/2},{x:o/2,y:0},{x:0,y:-o/2},{x:-o/2,y:0}],c=d.Z.svg(i),h=B(e,{});"handDrawn"!==e.look&&(h.roughness=0,h.fillStyle="solid");let u=f(s),g=c.path(u,h),p=i.insert(()=>g,":first-child");return r&&"handDrawn"!==e.look&&p.selectAll("path").attr("style",r),n&&"handDrawn"!==e.look&&p.selectAll("path").attr("style",n),e.width=28,e.height=28,e.intersect=function(t){return _.polygon(e,s,t)},i}async function U(t,e){let a;let{labelStyles:l,nodeStyles:n}=C(e);e.labelStyle=l;let{shapeSvg:i,bbox:r,halfPadding:c}=await h(t,e,y(e)),u=r.width/2+c,{cssStyles:f}=e;if("handDrawn"===e.look){let t=d.Z.svg(i),l=B(e,{}),n=t.circle(0,0,2*u,l);(a=i.insert(()=>n,":first-child")).attr("class","basic label-container").attr("style",(0,o.R7)(f))}else a=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0);return g(e,a),e.intersect=function(t){return s.cM.info("Circle intersect",e,u,t),_.circle(e,u,t)},i}function G(t){let e=Math.cos(Math.PI/4),a=Math.sin(Math.PI/4),l=2*t,n={x:l/2*e,y:l/2*a},i={x:-(l/2)*e,y:l/2*a},r={x:-(l/2)*e,y:-(l/2)*a},o={x:l/2*e,y:-(l/2)*a};return"M ".concat(i.x,",").concat(i.y," L ").concat(o.x,",").concat(o.y,"\n                   M ").concat(n.x,",").concat(n.y," L ").concat(r.x,",").concat(r.y)}function K(t,e){var a,l;let{labelStyles:n,nodeStyles:i}=C(e);e.labelStyle=n,e.label="";let r=t.insert("g").attr("class",y(e)).attr("id",null!==(a=e.domId)&&void 0!==a?a:e.id),o=Math.max(30,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),{cssStyles:c}=e,h=d.Z.svg(r),u=B(e,{});"handDrawn"!==e.look&&(u.roughness=0,u.fillStyle="solid");let f=h.circle(0,0,2*o,u),p=G(o),m=h.path(p,u),w=r.insert(()=>f,":first-child");return w.insert(()=>m),c&&"handDrawn"!==e.look&&w.selectAll("path").attr("style",c),i&&"handDrawn"!==e.look&&w.selectAll("path").attr("style",i),g(e,w),e.intersect=function(t){return s.cM.info("crossedCircle intersect",e,{radius:o,point:t}),_.circle(e,o,t)},r}function Q(t,e,a){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:180,r=[],o=n*Math.PI/180,s=(i*Math.PI/180-o)/(l-1);for(let n=0;n<l;n++){let l=o+n*s,i=t+a*Math.cos(l),c=e+a*Math.sin(l);r.push({x:-i,y:-c})}return r}async function $(t,e){var a,l,n,i,r;let{labelStyles:o,nodeStyles:s}=C(e);e.labelStyle=o;let{shapeSvg:c,bbox:u,label:p}=await h(t,e,y(e)),m=u.width+(null!==(a=e.padding)&&void 0!==a?a:0),w=u.height+(null!==(l=e.padding)&&void 0!==l?l:0),x=Math.max(5,.1*w),{cssStyles:v}=e,b=[...Q(m/2,-w/2,x,30,-90,0),{x:-m/2-x,y:x},...Q(m/2+2*x,-x,x,20,-180,-270),...Q(m/2+2*x,x,x,20,-90,-180),{x:-m/2-x,y:-w/2},...Q(m/2,w/2,x,20,0,90)],k=[{x:m/2,y:-w/2-x},{x:-m/2,y:-w/2-x},...Q(m/2,-w/2,x,20,-90,0),{x:-m/2-x,y:-x},...Q(m/2+.1*m,-x,x,20,-180,-270),...Q(m/2+.1*m,x,x,20,-90,-180),{x:-m/2-x,y:w/2},...Q(m/2,w/2,x,20,0,90),{x:-m/2,y:w/2+x},{x:m/2,y:w/2+x}],M=d.Z.svg(c),S=B(e,{fill:"none"});"handDrawn"!==e.look&&(S.roughness=0,S.fillStyle="solid");let D=f(b).replace("Z",""),W=M.path(D,S),N=f(k),A=M.path(N,{...S}),L=c.insert("g",":first-child");return L.insert(()=>A,":first-child").attr("stroke-opacity",0),L.insert(()=>W,":first-child"),L.attr("class","text"),v&&"handDrawn"!==e.look&&L.selectAll("path").attr("style",v),s&&"handDrawn"!==e.look&&L.selectAll("path").attr("style",s),L.attr("transform","translate(".concat(x,", 0)")),p.attr("transform","translate(".concat(-m/2+x-(u.x-(null!==(n=u.left)&&void 0!==n?n:0)),",").concat(-w/2+(null!==(i=e.padding)&&void 0!==i?i:0)/2-(u.y-(null!==(r=u.top)&&void 0!==r?r:0)),")")),g(e,L),e.intersect=function(t){return _.polygon(e,k,t)},c}function tt(t,e,a){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:180,r=[],o=n*Math.PI/180,s=(i*Math.PI/180-o)/(l-1);for(let n=0;n<l;n++){let l=o+n*s,i=t+a*Math.cos(l),c=e+a*Math.sin(l);r.push({x:i,y:c})}return r}async function te(t,e){var a,l,n,i,r,o;let{labelStyles:s,nodeStyles:c}=C(e);e.labelStyle=s;let{shapeSvg:u,bbox:p,label:m}=await h(t,e,y(e)),w=p.width+(null!==(a=e.padding)&&void 0!==a?a:0),x=p.height+(null!==(l=e.padding)&&void 0!==l?l:0),v=Math.max(5,.1*x),{cssStyles:b}=e,k=[...tt(w/2,-x/2,v,20,-90,0),{x:w/2+v,y:-v},...tt(w/2+2*v,-v,v,20,-180,-270),...tt(w/2+2*v,v,v,20,-90,-180),{x:w/2+v,y:x/2},...tt(w/2,x/2,v,20,0,90)],M=[{x:-w/2,y:-x/2-v},{x:w/2,y:-x/2-v},...tt(w/2,-x/2,v,20,-90,0),{x:w/2+v,y:-v},...tt(w/2+2*v,-v,v,20,-180,-270),...tt(w/2+2*v,v,v,20,-90,-180),{x:w/2+v,y:x/2},...tt(w/2,x/2,v,20,0,90),{x:w/2,y:x/2+v},{x:-w/2,y:x/2+v}],S=d.Z.svg(u),D=B(e,{fill:"none"});"handDrawn"!==e.look&&(D.roughness=0,D.fillStyle="solid");let W=f(k).replace("Z",""),N=S.path(W,D),A=f(M),L=S.path(A,{...D}),R=u.insert("g",":first-child");return R.insert(()=>L,":first-child").attr("stroke-opacity",0),R.insert(()=>N,":first-child"),R.attr("class","text"),b&&"handDrawn"!==e.look&&R.selectAll("path").attr("style",b),c&&"handDrawn"!==e.look&&R.selectAll("path").attr("style",c),R.attr("transform","translate(".concat(-v,", 0)")),m.attr("transform","translate(".concat(-w/2+(null!==(n=e.padding)&&void 0!==n?n:0)/2-(p.x-(null!==(i=p.left)&&void 0!==i?i:0)),",").concat(-x/2+(null!==(r=e.padding)&&void 0!==r?r:0)/2-(p.y-(null!==(o=p.top)&&void 0!==o?o:0)),")")),g(e,R),e.intersect=function(t){return _.polygon(e,M,t)},u}function ta(t,e,a){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:180,r=[],o=n*Math.PI/180,s=(i*Math.PI/180-o)/(l-1);for(let n=0;n<l;n++){let l=o+n*s,i=t+a*Math.cos(l),c=e+a*Math.sin(l);r.push({x:-i,y:-c})}return r}async function tl(t,e){var a,l,n,i,r,o;let{labelStyles:s,nodeStyles:c}=C(e);e.labelStyle=s;let{shapeSvg:u,bbox:p,label:m}=await h(t,e,y(e)),w=p.width+(null!==(a=e.padding)&&void 0!==a?a:0),x=p.height+(null!==(l=e.padding)&&void 0!==l?l:0),v=Math.max(5,.1*x),{cssStyles:b}=e,k=[...ta(w/2,-x/2,v,30,-90,0),{x:-w/2-v,y:v},...ta(w/2+2*v,-v,v,20,-180,-270),...ta(w/2+2*v,v,v,20,-90,-180),{x:-w/2-v,y:-x/2},...ta(w/2,x/2,v,20,0,90)],M=[...ta(-w/2+v+v/2,-x/2,v,20,-90,-180),{x:w/2-v/2,y:v},...ta(-w/2-v/2,-v,v,20,0,90),...ta(-w/2-v/2,v,v,20,-90,0),{x:w/2-v/2,y:-v},...ta(-w/2+v+v/2,x/2,v,30,-180,-270)],S=[{x:w/2,y:-x/2-v},{x:-w/2,y:-x/2-v},...ta(w/2,-x/2,v,20,-90,0),{x:-w/2-v,y:-v},...ta(w/2+2*v,-v,v,20,-180,-270),...ta(w/2+2*v,v,v,20,-90,-180),{x:-w/2-v,y:x/2},...ta(w/2,x/2,v,20,0,90),{x:-w/2,y:x/2+v},{x:w/2-v-v/2,y:x/2+v},...ta(-w/2+v+v/2,-x/2,v,20,-90,-180),{x:w/2-v/2,y:v},...ta(-w/2-v/2,-v,v,20,0,90),...ta(-w/2-v/2,v,v,20,-90,0),{x:w/2-v/2,y:-v},...ta(-w/2+v+v/2,x/2,v,30,-180,-270)],D=d.Z.svg(u),W=B(e,{fill:"none"});"handDrawn"!==e.look&&(W.roughness=0,W.fillStyle="solid");let N=f(k).replace("Z",""),A=D.path(N,W),L=f(M).replace("Z",""),R=D.path(L,W),P=f(S),Z=D.path(P,{...W}),I=u.insert("g",":first-child");return I.insert(()=>Z,":first-child").attr("stroke-opacity",0),I.insert(()=>A,":first-child"),I.insert(()=>R,":first-child"),I.attr("class","text"),b&&"handDrawn"!==e.look&&I.selectAll("path").attr("style",b),c&&"handDrawn"!==e.look&&I.selectAll("path").attr("style",c),I.attr("transform","translate(".concat(v-v/4,", 0)")),m.attr("transform","translate(".concat(-w/2+(null!==(n=e.padding)&&void 0!==n?n:0)/2-(p.x-(null!==(i=p.left)&&void 0!==i?i:0)),",").concat(-x/2+(null!==(r=e.padding)&&void 0!==r?r:0)/2-(p.y-(null!==(o=p.top)&&void 0!==o?o:0)),")")),g(e,I),e.intersect=function(t){return _.polygon(e,S,t)},u}async function tn(t,e){var a,l,n,i;let{labelStyles:r,nodeStyles:o}=C(e);e.labelStyle=r;let{shapeSvg:s,bbox:c}=await h(t,e,y(e)),u=Math.max(80,(c.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2)*1.25,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),p=Math.max(20,c.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),w=p/2,{cssStyles:x}=e,v=d.Z.svg(s),b=B(e,{});"handDrawn"!==e.look&&(b.roughness=0,b.fillStyle="solid");let k=u-w,M=p/4,S=[{x:k,y:0},{x:M,y:0},{x:0,y:p/2},{x:M,y:p},{x:k,y:p},...m(-k,-p/2,w,50,270,90)],D=f(S),W=v.path(D,b),N=s.insert(()=>W,":first-child");return N.attr("class","basic label-container"),x&&"handDrawn"!==e.look&&N.selectChildren("path").attr("style",x),o&&"handDrawn"!==e.look&&N.selectChildren("path").attr("style",o),N.attr("transform","translate(".concat(-u/2,", ").concat(-p/2,")")),g(e,N),e.intersect=function(t){return _.polygon(e,S,t)},s}(0,s.eW)(q,"anchor"),(0,s.eW)(z,"generateArcPoints"),(0,s.eW)(O,"bowTieRect"),(0,s.eW)(F,"insertPolygonShape"),(0,s.eW)(X,"card"),(0,s.eW)(J,"choice"),(0,s.eW)(U,"circle"),(0,s.eW)(G,"createLine"),(0,s.eW)(K,"crossedCircle"),(0,s.eW)(Q,"generateCirclePoints"),(0,s.eW)($,"curlyBraceLeft"),(0,s.eW)(tt,"generateCirclePoints"),(0,s.eW)(te,"curlyBraceRight"),(0,s.eW)(ta,"generateCirclePoints"),(0,s.eW)(tl,"curlyBraces"),(0,s.eW)(tn,"curvedTrapezoid");var ti=(0,s.eW)((t,e,a,l,n,i)=>["M".concat(t,",").concat(e+i),"a".concat(n,",").concat(i," 0,0,0 ").concat(a,",0"),"a".concat(n,",").concat(i," 0,0,0 ").concat(-a,",0"),"l0,".concat(l),"a".concat(n,",").concat(i," 0,0,0 ").concat(a,",0"),"l0,".concat(-l)].join(" "),"createCylinderPathD"),tr=(0,s.eW)((t,e,a,l,n,i)=>["M".concat(t,",").concat(e+i),"M".concat(t+a,",").concat(e+i),"a".concat(n,",").concat(i," 0,0,0 ").concat(-a,",0"),"l0,".concat(l),"a".concat(n,",").concat(i," 0,0,0 ").concat(a,",0"),"l0,".concat(-l)].join(" "),"createOuterCylinderPathD"),to=(0,s.eW)((t,e,a,l,n,i)=>["M".concat(t-a/2,",").concat(-l/2),"a".concat(n,",").concat(i," 0,0,0 ").concat(a,",0")].join(" "),"createInnerCylinderPathD");async function ts(t,e){var a,l,n,i,r;let s;let{labelStyles:c,nodeStyles:u}=C(e);e.labelStyle=c;let{shapeSvg:f,bbox:p,label:m}=await h(t,e,y(e)),w=Math.max(p.width+e.padding,null!==(a=e.width)&&void 0!==a?a:0),x=w/2,v=x/(2.5+w/50),b=Math.max(p.height+v+e.padding,null!==(l=e.height)&&void 0!==l?l:0),{cssStyles:k}=e;if("handDrawn"===e.look){let t=d.Z.svg(f),a=tr(0,0,w,b,x,v),l=to(0,v,w,b,x,v),n=t.path(a,B(e,{})),i=t.path(l,B(e,{fill:"none"}));s=f.insert(()=>i,":first-child"),(s=f.insert(()=>n,":first-child")).attr("class","basic label-container"),k&&s.attr("style",k)}else{let t=ti(0,0,w,b,x,v);s=f.insert("path",":first-child").attr("d",t).attr("class","basic label-container").attr("style",(0,o.R7)(k)).attr("style",u)}return s.attr("label-offset-y",v),s.attr("transform","translate(".concat(-w/2,", ").concat(-(b/2+v),")")),g(e,s),m.attr("transform","translate(".concat(-(p.width/2)-(p.x-(null!==(n=p.left)&&void 0!==n?n:0)),", ").concat(-(p.height/2)+(null!==(i=e.padding)&&void 0!==i?i:0)/1.5-(p.y-(null!==(r=p.top)&&void 0!==r?r:0)),")")),e.intersect=function(t){var a,l,n,i,r,o;let s=_.rect(e,t),c=s.x-(null!==(a=e.x)&&void 0!==a?a:0);if(0!=x&&(Math.abs(c)<(null!==(l=e.width)&&void 0!==l?l:0)/2||Math.abs(c)==(null!==(n=e.width)&&void 0!==n?n:0)/2&&Math.abs(s.y-(null!==(i=e.y)&&void 0!==i?i:0))>(null!==(r=e.height)&&void 0!==r?r:0)/2-v)){let a=v*v*(1-c*c/(x*x));a>0&&(a=Math.sqrt(a)),a=v-a,t.y-(null!==(o=e.y)&&void 0!==o?o:0)>0&&(a=-a),s.y+=a}return s},f}async function tc(t,e){var a,l,n,i;let{labelStyles:r,nodeStyles:o}=C(e);e.labelStyle=r;let{shapeSvg:s,bbox:c,label:u}=await h(t,e,y(e)),f=c.width+e.padding,p=c.height+e.padding,m=.2*p,w=-f/2,x=-p/2-m/2,{cssStyles:v}=e,b=d.Z.svg(s),k=B(e,{});"handDrawn"!==e.look&&(k.roughness=0,k.fillStyle="solid");let M=b.polygon([{x:w,y:x+m},{x:-w,y:x+m},{x:-w,y:-x},{x:w,y:-x},{x:w,y:x},{x:-w,y:x},{x:-w,y:x+m}].map(t=>[t.x,t.y]),k),S=s.insert(()=>M,":first-child");return S.attr("class","basic label-container"),v&&"handDrawn"!==e.look&&S.selectAll("path").attr("style",v),o&&"handDrawn"!==e.look&&S.selectAll("path").attr("style",o),u.attr("transform","translate(".concat(w+(null!==(a=e.padding)&&void 0!==a?a:0)/2-(c.x-(null!==(l=c.left)&&void 0!==l?l:0)),", ").concat(x+m+(null!==(n=e.padding)&&void 0!==n?n:0)/2-(c.y-(null!==(i=c.top)&&void 0!==i?i:0)),")")),g(e,S),e.intersect=function(t){return _.rect(e,t)},s}async function td(t,e){let a;let{labelStyles:l,nodeStyles:n}=C(e);e.labelStyle=l;let{shapeSvg:i,bbox:r,halfPadding:c}=await h(t,e,y(e)),u=r.width/2+c+5,f=r.width/2+c,{cssStyles:p}=e;if("handDrawn"===e.look){var m,w;let t=d.Z.svg(i),l=B(e,{roughness:.2,strokeWidth:2.5}),n=B(e,{roughness:.2,strokeWidth:1.5}),r=t.circle(0,0,2*u,l),s=t.circle(0,0,2*f,n);(a=i.insert("g",":first-child")).attr("class",(0,o.R7)(e.cssClasses)).attr("style",(0,o.R7)(p)),null===(m=a.node())||void 0===m||m.appendChild(r),null===(w=a.node())||void 0===w||w.appendChild(s)}else{let t=(a=i.insert("g",":first-child")).insert("circle",":first-child"),e=a.insert("circle");a.attr("class","basic label-container").attr("style",n),t.attr("class","outer-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0),e.attr("class","inner-circle").attr("style",n).attr("r",f).attr("cx",0).attr("cy",0)}return g(e,a),e.intersect=function(t){return s.cM.info("DoubleCircle intersect",e,u,t),_.circle(e,u,t)},i}function th(t,e,a){var l;let{config:{themeVariables:n}}=a,{labelStyles:i,nodeStyles:r}=C(e);e.label="",e.labelStyle=i;let o=t.insert("g").attr("class",y(e)).attr("id",null!==(l=e.domId)&&void 0!==l?l:e.id),{cssStyles:c}=e,h=d.Z.svg(o),{nodeBorder:u}=n,f=B(e,{fillStyle:"solid"});"handDrawn"!==e.look&&(f.roughness=0);let p=h.circle(0,0,14,f),m=o.insert(()=>p,":first-child");return m.selectAll("path").attr("style","fill: ".concat(u," !important;")),c&&c.length>0&&"handDrawn"!==e.look&&m.selectAll("path").attr("style",c),r&&"handDrawn"!==e.look&&m.selectAll("path").attr("style",r),g(e,m),e.intersect=function(t){return s.cM.info("filledCircle intersect",e,{radius:7,point:t}),_.circle(e,7,t)},o}async function tu(t,e){var a,l,n,i;let{labelStyles:r,nodeStyles:o}=C(e);e.labelStyle=r;let{shapeSvg:c,bbox:u,label:p}=await h(t,e,y(e)),m=u.width+(null!==(a=e.padding)&&void 0!==a?a:0),w=m+u.height,x=m+u.height,v=[{x:0,y:-w},{x:x,y:-w},{x:x/2,y:0}],{cssStyles:b}=e,k=d.Z.svg(c),M=B(e,{});"handDrawn"!==e.look&&(M.roughness=0,M.fillStyle="solid");let S=f(v),D=k.path(S,M),W=c.insert(()=>D,":first-child").attr("transform","translate(".concat(-w/2,", ").concat(w/2,")"));return b&&"handDrawn"!==e.look&&W.selectChildren("path").attr("style",b),o&&"handDrawn"!==e.look&&W.selectChildren("path").attr("style",o),e.width=m,e.height=w,g(e,W),p.attr("transform","translate(".concat(-u.width/2-(u.x-(null!==(l=u.left)&&void 0!==l?l:0)),", ").concat(-w/2+(null!==(n=e.padding)&&void 0!==n?n:0)/2+(u.y-(null!==(i=u.top)&&void 0!==i?i:0)),")")),e.intersect=function(t){return s.cM.info("Triangle intersect",e,v,t),_.polygon(e,v,t)},c}function tg(t,e,a){var l,n,i,r,o,s;let{dir:c,config:{state:h,themeVariables:u}}=a,{nodeStyles:f}=C(e);e.label="";let p=t.insert("g").attr("class",y(e)).attr("id",null!==(l=e.domId)&&void 0!==l?l:e.id),{cssStyles:m}=e,w=Math.max(70,null!==(n=null==e?void 0:e.width)&&void 0!==n?n:0),x=Math.max(10,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0);"LR"===c&&(w=Math.max(10,null!==(r=null==e?void 0:e.width)&&void 0!==r?r:0),x=Math.max(70,null!==(o=null==e?void 0:e.height)&&void 0!==o?o:0));let v=-1*w/2,b=-1*x/2,k=d.Z.svg(p),M=B(e,{stroke:u.lineColor,fill:u.lineColor});"handDrawn"!==e.look&&(M.roughness=0,M.fillStyle="solid");let S=k.rectangle(v,b,w,x,M),D=p.insert(()=>S,":first-child");m&&"handDrawn"!==e.look&&D.selectAll("path").attr("style",m),f&&"handDrawn"!==e.look&&D.selectAll("path").attr("style",f),g(e,D);let W=null!==(s=null==h?void 0:h.padding)&&void 0!==s?s:0;return e.width&&e.height&&(e.width+=W/2||0,e.height+=W/2||0),e.intersect=function(t){return _.rect(e,t)},p}async function ty(t,e){var a,l,n,i;let{labelStyles:r,nodeStyles:o}=C(e);e.labelStyle=r;let{shapeSvg:c,bbox:u}=await h(t,e,y(e)),p=Math.max(80,u.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),w=Math.max(50,u.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),x=w/2,{cssStyles:v}=e,b=d.Z.svg(c),k=B(e,{});"handDrawn"!==e.look&&(k.roughness=0,k.fillStyle="solid");let M=[{x:-p/2,y:-w/2},{x:p/2-x,y:-w/2},...m(-p/2+x,0,x,50,90,270),{x:p/2-x,y:w/2},{x:-p/2,y:w/2}],S=f(M),D=b.path(S,k),W=c.insert(()=>D,":first-child");return W.attr("class","basic label-container"),v&&"handDrawn"!==e.look&&W.selectChildren("path").attr("style",v),o&&"handDrawn"!==e.look&&W.selectChildren("path").attr("style",o),g(e,W),e.intersect=function(t){return s.cM.info("Pill intersect",e,{radius:x,point:t}),_.polygon(e,M,t)},c}(0,s.eW)(ts,"cylinder"),(0,s.eW)(tc,"dividedRectangle"),(0,s.eW)(td,"doublecircle"),(0,s.eW)(th,"filledCircle"),(0,s.eW)(tu,"flippedTriangle"),(0,s.eW)(tg,"forkJoin"),(0,s.eW)(ty,"halfRoundedRectangle");var tf=(0,s.eW)((t,e,a,l,n)=>["M".concat(t+n,",").concat(e),"L".concat(t+a-n,",").concat(e),"L".concat(t+a,",").concat(e-l/2),"L".concat(t+a-n,",").concat(e-l),"L".concat(t+n,",").concat(e-l),"L".concat(t,",").concat(e-l/2),"Z"].join(" "),"createHexagonPathD");async function tp(t,e){let a;let{labelStyles:l,nodeStyles:n}=C(e);e.labelStyle=l;let{shapeSvg:i,bbox:r}=await h(t,e,y(e)),o=r.height+e.padding,s=o/4,c=r.width+2*s+e.padding,u=[{x:s,y:0},{x:c-s,y:0},{x:c,y:-o/2},{x:c-s,y:-o},{x:s,y:-o},{x:0,y:-o/2}],{cssStyles:f}=e;if("handDrawn"===e.look){let t=d.Z.svg(i),l=B(e,{}),n=tf(0,0,c,o,s),r=t.path(n,l);a=i.insert(()=>r,":first-child").attr("transform","translate(".concat(-c/2,", ").concat(o/2,")")),f&&a.attr("style",f)}else a=F(i,c,o,u);return n&&a.attr("style",n),e.width=c,e.height=o,g(e,a),e.intersect=function(t){return _.polygon(e,u,t)},i}async function tm(t,e){var a,l;let{labelStyles:n,nodeStyles:i}=C(e);e.label="",e.labelStyle=n;let{shapeSvg:r}=await h(t,e,y(e)),o=Math.max(30,null!==(a=null==e?void 0:e.width)&&void 0!==a?a:0),c=Math.max(30,null!==(l=null==e?void 0:e.height)&&void 0!==l?l:0),{cssStyles:u}=e,p=d.Z.svg(r),m=B(e,{});"handDrawn"!==e.look&&(m.roughness=0,m.fillStyle="solid");let w=[{x:0,y:0},{x:o,y:0},{x:0,y:c},{x:o,y:c}],x=f(w),v=p.path(x,m),b=r.insert(()=>v,":first-child");return b.attr("class","basic label-container"),u&&"handDrawn"!==e.look&&b.selectChildren("path").attr("style",u),i&&"handDrawn"!==e.look&&b.selectChildren("path").attr("style",i),b.attr("transform","translate(".concat(-o/2,", ").concat(-c/2,")")),g(e,b),e.intersect=function(t){return s.cM.info("Pill intersect",e,{points:w}),_.polygon(e,w,t)},r}async function tw(t,e,a){var l,n,r,o;let{config:{themeVariables:c,flowchart:u}}=a,{labelStyles:y}=C(e);e.labelStyle=y;let f=Math.max(null!==(l=e.assetHeight)&&void 0!==l?l:48,null!==(n=e.assetWidth)&&void 0!==n?n:48),p=null==u?void 0:u.wrappingWidth;e.width=Math.max(f,null!=p?p:0);let{shapeSvg:m,bbox:w,label:x}=await h(t,e,"icon-shape default"),v="t"===e.pos,{nodeBorder:b}=c,{stylesMap:k}=S(e),M=-f/2,D=-f/2,W=e.label?8:0,N=d.Z.svg(m),A=B(e,{stroke:"none",fill:"none"});"handDrawn"!==e.look&&(A.roughness=0,A.fillStyle="solid");let L=N.rectangle(M,D,f,f,A),R=Math.max(f,w.width),P=f+w.height+W,Z=N.rectangle(-R/2,-P/2,R,P,{...A,fill:"transparent",stroke:"none"}),I=m.insert(()=>L,":first-child"),T=m.insert(()=>Z);if(e.icon){let t=m.append("g");t.html("<g>".concat(await (0,i.s4)(e.icon,{height:f,width:f,fallbackPrefix:""}),"</g>"));let a=t.node().getBBox(),l=a.width,n=a.height,o=a.x,s=a.y;t.attr("transform","translate(".concat(-l/2-o,",").concat(v?w.height/2+W/2-n/2-s:-w.height/2-W/2-n/2-s,")")),t.attr("style","color: ".concat(null!==(r=k.get("stroke"))&&void 0!==r?r:b,";"))}return x.attr("transform","translate(".concat(-w.width/2-(w.x-(null!==(o=w.left)&&void 0!==o?o:0)),",").concat(v?-P/2:P/2-w.height,")")),I.attr("transform","translate(".concat(0,",").concat(v?w.height/2+W/2:-w.height/2-W/2,")")),g(e,T),e.intersect=function(t){var a,l,n;if(s.cM.info("iconSquare intersect",e,t),!e.label)return _.rect(e,t);let i=null!==(a=e.x)&&void 0!==a?a:0,r=null!==(l=e.y)&&void 0!==l?l:0,o=null!==(n=e.height)&&void 0!==n?n:0,c=[];return c=v?[{x:i-w.width/2,y:r-o/2},{x:i+w.width/2,y:r-o/2},{x:i+w.width/2,y:r-o/2+w.height+W},{x:i+f/2,y:r-o/2+w.height+W},{x:i+f/2,y:r+o/2},{x:i-f/2,y:r+o/2},{x:i-f/2,y:r-o/2+w.height+W},{x:i-w.width/2,y:r-o/2+w.height+W}]:[{x:i-f/2,y:r-o/2},{x:i+f/2,y:r-o/2},{x:i+f/2,y:r-o/2+f},{x:i+w.width/2,y:r-o/2+f},{x:i+w.width/2/2,y:r+o/2},{x:i-w.width/2,y:r+o/2},{x:i-w.width/2,y:r-o/2+f},{x:i-f/2,y:r-o/2+f}],_.polygon(e,c,t)},m}async function tx(t,e,a){var l,n,r,o;let{config:{themeVariables:c,flowchart:u}}=a,{labelStyles:y}=C(e);e.labelStyle=y;let f=Math.max(null!==(l=e.assetHeight)&&void 0!==l?l:48,null!==(n=e.assetWidth)&&void 0!==n?n:48),p=null==u?void 0:u.wrappingWidth;e.width=Math.max(f,null!=p?p:0);let{shapeSvg:m,bbox:w,label:x}=await h(t,e,"icon-shape default"),v=e.label?8:0,b="t"===e.pos,{nodeBorder:k,mainBkg:M}=c,{stylesMap:D}=S(e),W=d.Z.svg(m),N=B(e,{});"handDrawn"!==e.look&&(N.roughness=0,N.fillStyle="solid");let A=D.get("fill");N.stroke=null!=A?A:M;let L=m.append("g");e.icon&&L.html("<g>".concat(await (0,i.s4)(e.icon,{height:f,width:f,fallbackPrefix:""}),"</g>"));let R=L.node().getBBox(),P=R.width,Z=R.height,I=R.x,T=R.y,E=Math.max(P,Z)*Math.SQRT2+40,j=W.circle(0,0,E,N),H=Math.max(E,w.width),V=E+w.height+v,Y=W.rectangle(-H/2,-V/2,H,V,{...N,fill:"transparent",stroke:"none"}),q=m.insert(()=>j,":first-child"),z=m.insert(()=>Y);return L.attr("transform","translate(".concat(-P/2-I,",").concat(b?w.height/2+v/2-Z/2-T:-w.height/2-v/2-Z/2-T,")")),L.attr("style","color: ".concat(null!==(r=D.get("stroke"))&&void 0!==r?r:k,";")),x.attr("transform","translate(".concat(-w.width/2-(w.x-(null!==(o=w.left)&&void 0!==o?o:0)),",").concat(b?-V/2:V/2-w.height,")")),q.attr("transform","translate(".concat(0,",").concat(b?w.height/2+v/2:-w.height/2-v/2,")")),g(e,z),e.intersect=function(t){return s.cM.info("iconSquare intersect",e,t),_.rect(e,t)},m}async function tv(t,e,a){var l,n,r,o;let{config:{themeVariables:c,flowchart:u}}=a,{labelStyles:y}=C(e);e.labelStyle=y;let f=Math.max(null!==(l=e.assetHeight)&&void 0!==l?l:48,null!==(n=e.assetWidth)&&void 0!==n?n:48),p=null==u?void 0:u.wrappingWidth;e.width=Math.max(f,null!=p?p:0);let{shapeSvg:m,bbox:w,halfPadding:x,label:v}=await h(t,e,"icon-shape default"),b="t"===e.pos,M=f+2*x,D=f+2*x,{nodeBorder:W,mainBkg:N}=c,{stylesMap:A}=S(e),L=e.label?8:0,R=d.Z.svg(m),P=B(e,{});"handDrawn"!==e.look&&(P.roughness=0,P.fillStyle="solid");let Z=A.get("fill");P.stroke=null!=Z?Z:N;let I=R.path(k(-D/2,-M/2,D,M,5),P),T=Math.max(D,w.width),E=M+w.height+L,j=R.rectangle(-T/2,-E/2,T,E,{...P,fill:"transparent",stroke:"none"}),H=m.insert(()=>I,":first-child").attr("class","icon-shape2"),V=m.insert(()=>j);if(e.icon){let t=m.append("g");t.html("<g>".concat(await (0,i.s4)(e.icon,{height:f,width:f,fallbackPrefix:""}),"</g>"));let a=t.node().getBBox(),l=a.width,n=a.height,o=a.x,s=a.y;t.attr("transform","translate(".concat(-l/2-o,",").concat(b?w.height/2+L/2-n/2-s:-w.height/2-L/2-n/2-s,")")),t.attr("style","color: ".concat(null!==(r=A.get("stroke"))&&void 0!==r?r:W,";"))}return v.attr("transform","translate(".concat(-w.width/2-(w.x-(null!==(o=w.left)&&void 0!==o?o:0)),",").concat(b?-E/2:E/2-w.height,")")),H.attr("transform","translate(".concat(0,",").concat(b?w.height/2+L/2:-w.height/2-L/2,")")),g(e,V),e.intersect=function(t){var a,l,n;if(s.cM.info("iconSquare intersect",e,t),!e.label)return _.rect(e,t);let i=null!==(a=e.x)&&void 0!==a?a:0,r=null!==(l=e.y)&&void 0!==l?l:0,o=null!==(n=e.height)&&void 0!==n?n:0,c=[];return c=b?[{x:i-w.width/2,y:r-o/2},{x:i+w.width/2,y:r-o/2},{x:i+w.width/2,y:r-o/2+w.height+L},{x:i+D/2,y:r-o/2+w.height+L},{x:i+D/2,y:r+o/2},{x:i-D/2,y:r+o/2},{x:i-D/2,y:r-o/2+w.height+L},{x:i-w.width/2,y:r-o/2+w.height+L}]:[{x:i-D/2,y:r-o/2},{x:i+D/2,y:r-o/2},{x:i+D/2,y:r-o/2+M},{x:i+w.width/2,y:r-o/2+M},{x:i+w.width/2/2,y:r+o/2},{x:i-w.width/2,y:r+o/2},{x:i-w.width/2,y:r-o/2+M},{x:i-D/2,y:r-o/2+M}],_.polygon(e,c,t)},m}async function tb(t,e,a){var l,n,r,o;let{config:{themeVariables:c,flowchart:u}}=a,{labelStyles:y}=C(e);e.labelStyle=y;let f=Math.max(null!==(l=e.assetHeight)&&void 0!==l?l:48,null!==(n=e.assetWidth)&&void 0!==n?n:48),p=null==u?void 0:u.wrappingWidth;e.width=Math.max(f,null!=p?p:0);let{shapeSvg:m,bbox:w,halfPadding:x,label:v}=await h(t,e,"icon-shape default"),b="t"===e.pos,M=f+2*x,D=f+2*x,{nodeBorder:W,mainBkg:N}=c,{stylesMap:A}=S(e),L=e.label?8:0,R=d.Z.svg(m),P=B(e,{});"handDrawn"!==e.look&&(P.roughness=0,P.fillStyle="solid");let Z=A.get("fill");P.stroke=null!=Z?Z:N;let I=R.path(k(-D/2,-M/2,D,M,.1),P),T=Math.max(D,w.width),E=M+w.height+L,j=R.rectangle(-T/2,-E/2,T,E,{...P,fill:"transparent",stroke:"none"}),H=m.insert(()=>I,":first-child"),V=m.insert(()=>j);if(e.icon){let t=m.append("g");t.html("<g>".concat(await (0,i.s4)(e.icon,{height:f,width:f,fallbackPrefix:""}),"</g>"));let a=t.node().getBBox(),l=a.width,n=a.height,o=a.x,s=a.y;t.attr("transform","translate(".concat(-l/2-o,",").concat(b?w.height/2+L/2-n/2-s:-w.height/2-L/2-n/2-s,")")),t.attr("style","color: ".concat(null!==(r=A.get("stroke"))&&void 0!==r?r:W,";"))}return v.attr("transform","translate(".concat(-w.width/2-(w.x-(null!==(o=w.left)&&void 0!==o?o:0)),",").concat(b?-E/2:E/2-w.height,")")),H.attr("transform","translate(".concat(0,",").concat(b?w.height/2+L/2:-w.height/2-L/2,")")),g(e,V),e.intersect=function(t){var a,l,n;if(s.cM.info("iconSquare intersect",e,t),!e.label)return _.rect(e,t);let i=null!==(a=e.x)&&void 0!==a?a:0,r=null!==(l=e.y)&&void 0!==l?l:0,o=null!==(n=e.height)&&void 0!==n?n:0,c=[];return c=b?[{x:i-w.width/2,y:r-o/2},{x:i+w.width/2,y:r-o/2},{x:i+w.width/2,y:r-o/2+w.height+L},{x:i+D/2,y:r-o/2+w.height+L},{x:i+D/2,y:r+o/2},{x:i-D/2,y:r+o/2},{x:i-D/2,y:r-o/2+w.height+L},{x:i-w.width/2,y:r-o/2+w.height+L}]:[{x:i-D/2,y:r-o/2},{x:i+D/2,y:r-o/2},{x:i+D/2,y:r-o/2+M},{x:i+w.width/2,y:r-o/2+M},{x:i+w.width/2/2,y:r+o/2},{x:i-w.width/2,y:r+o/2},{x:i-w.width/2,y:r-o/2+M},{x:i-D/2,y:r-o/2+M}],_.polygon(e,c,t)},m}async function tk(t,e,a){var l,n,i,r;let{config:{flowchart:o}}=a,c=new Image;c.src=null!==(l=null==e?void 0:e.img)&&void 0!==l?l:"",await c.decode();let u=Number(c.naturalWidth.toString().replace("px","")),y=Number(c.naturalHeight.toString().replace("px",""));e.imageAspectRatio=u/y;let{labelStyles:f}=C(e);e.labelStyle=f;let p=null==o?void 0:o.wrappingWidth;e.defaultWidth=null==o?void 0:o.wrappingWidth;let m=Math.max(e.label&&null!=p?p:0,null!==(n=null==e?void 0:e.assetWidth)&&void 0!==n?n:u),w="on"===e.constraint&&(null==e?void 0:e.assetHeight)?e.assetHeight*e.imageAspectRatio:m,x="on"===e.constraint?w/e.imageAspectRatio:null!==(i=null==e?void 0:e.assetHeight)&&void 0!==i?i:y;e.width=Math.max(w,null!=p?p:0);let{shapeSvg:v,bbox:b,label:k}=await h(t,e,"image-shape default"),M="t"===e.pos,S=-w/2,D=e.label?8:0,W=d.Z.svg(v),N=B(e,{});"handDrawn"!==e.look&&(N.roughness=0,N.fillStyle="solid");let A=W.rectangle(S,-x/2,w,x,N),L=Math.max(w,b.width),R=x+b.height+D,P=W.rectangle(-L/2,-R/2,L,R,{...N,fill:"none",stroke:"none"}),Z=v.insert(()=>A,":first-child"),I=v.insert(()=>P);if(e.img){let t=v.append("image");t.attr("href",e.img),t.attr("width",w),t.attr("height",x),t.attr("preserveAspectRatio","none"),t.attr("transform","translate(".concat(-w/2,",").concat(M?R/2-x:-R/2,")"))}return k.attr("transform","translate(".concat(-b.width/2-(b.x-(null!==(r=b.left)&&void 0!==r?r:0)),",").concat(M?-x/2-b.height/2-D/2:x/2-b.height/2+D/2,")")),Z.attr("transform","translate(".concat(0,",").concat(M?b.height/2+D/2:-b.height/2-D/2,")")),g(e,I),e.intersect=function(t){var a,l,n;if(s.cM.info("iconSquare intersect",e,t),!e.label)return _.rect(e,t);let i=null!==(a=e.x)&&void 0!==a?a:0,r=null!==(l=e.y)&&void 0!==l?l:0,o=null!==(n=e.height)&&void 0!==n?n:0,c=[];return c=M?[{x:i-b.width/2,y:r-o/2},{x:i+b.width/2,y:r-o/2},{x:i+b.width/2,y:r-o/2+b.height+D},{x:i+w/2,y:r-o/2+b.height+D},{x:i+w/2,y:r+o/2},{x:i-w/2,y:r+o/2},{x:i-w/2,y:r-o/2+b.height+D},{x:i-b.width/2,y:r-o/2+b.height+D}]:[{x:i-w/2,y:r-o/2},{x:i+w/2,y:r-o/2},{x:i+w/2,y:r-o/2+x},{x:i+b.width/2,y:r-o/2+x},{x:i+b.width/2/2,y:r+o/2},{x:i-b.width/2,y:r+o/2},{x:i-b.width/2,y:r-o/2+x},{x:i-w/2,y:r-o/2+x}],_.polygon(e,c,t)},v}async function tM(t,e){var a,l,n,i;let r;let{labelStyles:o,nodeStyles:s}=C(e);e.labelStyle=o;let{shapeSvg:c,bbox:u}=await h(t,e,y(e)),p=Math.max(u.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),m=Math.max(u.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),w=[{x:0,y:0},{x:p,y:0},{x:p+3*m/6,y:-m},{x:-3*m/6,y:-m}],{cssStyles:x}=e;if("handDrawn"===e.look){let t=d.Z.svg(c),a=B(e,{}),l=f(w),n=t.path(l,a);r=c.insert(()=>n,":first-child").attr("transform","translate(".concat(-p/2,", ").concat(m/2,")")),x&&r.attr("style",x)}else r=F(c,p,m,w);return s&&r.attr("style",s),e.width=p,e.height=m,g(e,r),e.intersect=function(t){return _.polygon(e,w,t)},c}async function tS(t,e,a){let l;let{labelStyles:n,nodeStyles:i}=C(e);e.labelStyle=n;let{shapeSvg:r,bbox:s}=await h(t,e,y(e)),c=Math.max(s.width+2*a.labelPaddingX,(null==e?void 0:e.width)||0),u=Math.max(s.height+2*a.labelPaddingY,(null==e?void 0:e.height)||0),f=-c/2,p=-u/2,{rx:m,ry:w}=e,{cssStyles:x}=e;if((null==a?void 0:a.rx)&&a.ry&&(m=a.rx,w=a.ry),"handDrawn"===e.look){let t=d.Z.svg(r),a=B(e,{}),n=m||w?t.path(k(f,p,c,u,m||0),a):t.rectangle(f,p,c,u,a);(l=r.insert(()=>n,":first-child")).attr("class","basic label-container").attr("style",(0,o.R7)(x))}else(l=r.insert("rect",":first-child")).attr("class","basic label-container").attr("style",i).attr("rx",(0,o.R7)(m)).attr("ry",(0,o.R7)(w)).attr("x",f).attr("y",p).attr("width",c).attr("height",u);return g(e,l),e.intersect=function(t){return _.rect(e,t)},r}async function tD(t,e){var a,l;let{shapeSvg:n,bbox:i,label:r}=await h(t,e,"label"),o=n.insert("rect",":first-child");return o.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),r.attr("transform","translate(".concat(-(i.width/2)-(i.x-(null!==(a=i.left)&&void 0!==a?a:0)),", ").concat(-(i.height/2)-(i.y-(null!==(l=i.top)&&void 0!==l?l:0)),")")),g(e,o),e.intersect=function(t){return _.rect(e,t)},n}async function tW(t,e){var a,l,n,i;let r;let{labelStyles:o,nodeStyles:s}=C(e);e.labelStyle=o;let{shapeSvg:c,bbox:u}=await h(t,e,y(e)),p=Math.max(u.width+(null!==(a=e.padding)&&void 0!==a?a:0),null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),m=Math.max(u.height+(null!==(n=e.padding)&&void 0!==n?n:0),null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),w=[{x:0,y:0},{x:p+3*m/6,y:0},{x:p,y:-m},{x:-(3*m)/6,y:-m}],{cssStyles:x}=e;if("handDrawn"===e.look){let t=d.Z.svg(c),a=B(e,{}),l=f(w),n=t.path(l,a);r=c.insert(()=>n,":first-child").attr("transform","translate(".concat(-p/2,", ").concat(m/2,")")),x&&r.attr("style",x)}else r=F(c,p,m,w);return s&&r.attr("style",s),e.width=p,e.height=m,g(e,r),e.intersect=function(t){return _.polygon(e,w,t)},c}async function tC(t,e){var a,l,n,i;let r;let{labelStyles:o,nodeStyles:s}=C(e);e.labelStyle=o;let{shapeSvg:c,bbox:u}=await h(t,e,y(e)),p=Math.max(u.width+(null!==(a=e.padding)&&void 0!==a?a:0),null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),m=Math.max(u.height+(null!==(n=e.padding)&&void 0!==n?n:0),null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),w=[{x:-3*m/6,y:0},{x:p,y:0},{x:p+3*m/6,y:-m},{x:0,y:-m}],{cssStyles:x}=e;if("handDrawn"===e.look){let t=d.Z.svg(c),a=B(e,{}),l=f(w),n=t.path(l,a);r=c.insert(()=>n,":first-child").attr("transform","translate(".concat(-p/2,", ").concat(m/2,")")),x&&r.attr("style",x)}else r=F(c,p,m,w);return s&&r.attr("style",s),e.width=p,e.height=m,g(e,r),e.intersect=function(t){return _.polygon(e,w,t)},c}function tB(t,e){var a,l,n;let{labelStyles:i,nodeStyles:r}=C(e);e.label="",e.labelStyle=i;let o=t.insert("g").attr("class",y(e)).attr("id",null!==(a=e.domId)&&void 0!==a?a:e.id),{cssStyles:c}=e,h=Math.max(35,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),u=Math.max(35,null!==(n=null==e?void 0:e.height)&&void 0!==n?n:0),p=[{x:h,y:0},{x:0,y:u+3.5},{x:h-14,y:u+3.5},{x:0,y:2*u},{x:h,y:u-3.5},{x:14,y:u-3.5}],m=d.Z.svg(o),w=B(e,{});"handDrawn"!==e.look&&(w.roughness=0,w.fillStyle="solid");let x=f(p),v=m.path(x,w),b=o.insert(()=>v,":first-child");return c&&"handDrawn"!==e.look&&b.selectAll("path").attr("style",c),r&&"handDrawn"!==e.look&&b.selectAll("path").attr("style",r),b.attr("transform","translate(-".concat(h/2,",").concat(-u,")")),g(e,b),e.intersect=function(t){return s.cM.info("lightningBolt intersect",e,t),_.polygon(e,p,t)},o}(0,s.eW)(tp,"hexagon"),(0,s.eW)(tm,"hourglass"),(0,s.eW)(tw,"icon"),(0,s.eW)(tx,"iconCircle"),(0,s.eW)(tv,"iconRounded"),(0,s.eW)(tb,"iconSquare"),(0,s.eW)(tk,"imageSquare"),(0,s.eW)(tM,"inv_trapezoid"),(0,s.eW)(tS,"drawRect"),(0,s.eW)(tD,"labelRect"),(0,s.eW)(tW,"lean_left"),(0,s.eW)(tC,"lean_right"),(0,s.eW)(tB,"lightningBolt");var tN=(0,s.eW)((t,e,a,l,n,i,r)=>["M".concat(t,",").concat(e+i),"a".concat(n,",").concat(i," 0,0,0 ").concat(a,",0"),"a".concat(n,",").concat(i," 0,0,0 ").concat(-a,",0"),"l0,".concat(l),"a".concat(n,",").concat(i," 0,0,0 ").concat(a,",0"),"l0,".concat(-l),"M".concat(t,",").concat(e+i+r),"a".concat(n,",").concat(i," 0,0,0 ").concat(a,",0")].join(" "),"createCylinderPathD"),tA=(0,s.eW)((t,e,a,l,n,i,r)=>["M".concat(t,",").concat(e+i),"M".concat(t+a,",").concat(e+i),"a".concat(n,",").concat(i," 0,0,0 ").concat(-a,",0"),"l0,".concat(l),"a".concat(n,",").concat(i," 0,0,0 ").concat(a,",0"),"l0,".concat(-l),"M".concat(t,",").concat(e+i+r),"a".concat(n,",").concat(i," 0,0,0 ").concat(a,",0")].join(" "),"createOuterCylinderPathD"),tL=(0,s.eW)((t,e,a,l,n,i)=>["M".concat(t-a/2,",").concat(-l/2),"a".concat(n,",").concat(i," 0,0,0 ").concat(a,",0")].join(" "),"createInnerCylinderPathD");async function tR(t,e){var a,l,n,i,r,s;let c;let{labelStyles:u,nodeStyles:f}=C(e);e.labelStyle=u;let{shapeSvg:p,bbox:m,label:w}=await h(t,e,y(e)),x=Math.max(m.width+(null!==(a=e.padding)&&void 0!==a?a:0),null!==(l=e.width)&&void 0!==l?l:0),v=x/2,b=v/(2.5+x/50),k=Math.max(m.height+b+(null!==(n=e.padding)&&void 0!==n?n:0),null!==(i=e.height)&&void 0!==i?i:0),M=.1*k,{cssStyles:S}=e;if("handDrawn"===e.look){let t=d.Z.svg(p),a=tA(0,0,x,k,v,b,M),l=tL(0,b,x,k,v,b),n=B(e,{}),i=t.path(a,n),r=t.path(l,n);p.insert(()=>r,":first-child").attr("class","line"),(c=p.insert(()=>i,":first-child")).attr("class","basic label-container"),S&&c.attr("style",S)}else{let t=tN(0,0,x,k,v,b,M);c=p.insert("path",":first-child").attr("d",t).attr("class","basic label-container").attr("style",(0,o.R7)(S)).attr("style",f)}return c.attr("label-offset-y",b),c.attr("transform","translate(".concat(-x/2,", ").concat(-(k/2+b),")")),g(e,c),w.attr("transform","translate(".concat(-(m.width/2)-(m.x-(null!==(r=m.left)&&void 0!==r?r:0)),", ").concat(-(m.height/2)+b-(m.y-(null!==(s=m.top)&&void 0!==s?s:0)),")")),e.intersect=function(t){var a,l,n,i,r,o;let s=_.rect(e,t),c=s.x-(null!==(a=e.x)&&void 0!==a?a:0);if(0!=v&&(Math.abs(c)<(null!==(l=e.width)&&void 0!==l?l:0)/2||Math.abs(c)==(null!==(n=e.width)&&void 0!==n?n:0)/2&&Math.abs(s.y-(null!==(i=e.y)&&void 0!==i?i:0))>(null!==(r=e.height)&&void 0!==r?r:0)/2-b)){let a=b*b*(1-c*c/(v*v));a>0&&(a=Math.sqrt(a)),a=b-a,t.y-(null!==(o=e.y)&&void 0!==o?o:0)>0&&(a=-a),s.y+=a}return s},p}async function tP(t,e){var a,l,n,i,r,o,s,c;let{labelStyles:u,nodeStyles:f}=C(e);e.labelStyle=u;let{shapeSvg:m,bbox:w,label:x}=await h(t,e,y(e)),v=Math.max(w.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),b=Math.max(w.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),k=b/4,M=b+k,{cssStyles:S}=e,D=d.Z.svg(m),W=B(e,{});"handDrawn"!==e.look&&(W.roughness=0,W.fillStyle="solid");let N=[{x:-v/2-v/2*.1,y:-M/2},{x:-v/2-v/2*.1,y:M/2},...p(-v/2-v/2*.1,M/2,v/2+v/2*.1,M/2,k,.8),{x:v/2+v/2*.1,y:-M/2},{x:-v/2-v/2*.1,y:-M/2},{x:-v/2,y:-M/2},{x:-v/2,y:M/2*1.1},{x:-v/2,y:-M/2}],A=D.polygon(N.map(t=>[t.x,t.y]),W),L=m.insert(()=>A,":first-child");return L.attr("class","basic label-container"),S&&"handDrawn"!==e.look&&L.selectAll("path").attr("style",S),f&&"handDrawn"!==e.look&&L.selectAll("path").attr("style",f),L.attr("transform","translate(0,".concat(-k/2,")")),x.attr("transform","translate(".concat(-v/2+(null!==(r=e.padding)&&void 0!==r?r:0)+v/2*.1/2-(w.x-(null!==(o=w.left)&&void 0!==o?o:0)),",").concat(-b/2+(null!==(s=e.padding)&&void 0!==s?s:0)-k/2-(w.y-(null!==(c=w.top)&&void 0!==c?c:0)),")")),g(e,L),e.intersect=function(t){return _.polygon(e,N,t)},m}async function tZ(t,e){var a,l,n,i,r,o;let{labelStyles:s,nodeStyles:c}=C(e);e.labelStyle=s;let{shapeSvg:u,bbox:p,label:m}=await h(t,e,y(e)),w=Math.max(p.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),x=Math.max(p.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),v=-w/2,b=-x/2,{cssStyles:k}=e,M=d.Z.svg(u),S=B(e,{}),D=[{x:v-5,y:b+5},{x:v-5,y:b+x+5},{x:v+w-5,y:b+x+5},{x:v+w-5,y:b+x},{x:v+w,y:b+x},{x:v+w,y:b+x-5},{x:v+w+5,y:b+x-5},{x:v+w+5,y:b-5},{x:v+5,y:b-5},{x:v+5,y:b},{x:v,y:b},{x:v,y:b+5}];"handDrawn"!==e.look&&(S.roughness=0,S.fillStyle="solid");let W=f(D),N=M.path(W,S),A=f([{x:v,y:b+5},{x:v+w-5,y:b+5},{x:v+w-5,y:b+x},{x:v+w,y:b+x},{x:v+w,y:b},{x:v,y:b}]),L=M.path(A,{...S,fill:"none"}),R=u.insert(()=>L,":first-child");return R.insert(()=>N,":first-child"),R.attr("class","basic label-container"),k&&"handDrawn"!==e.look&&R.selectAll("path").attr("style",k),c&&"handDrawn"!==e.look&&R.selectAll("path").attr("style",c),m.attr("transform","translate(".concat(-(p.width/2)-5-(p.x-(null!==(r=p.left)&&void 0!==r?r:0)),", ").concat(-(p.height/2)+5-(p.y-(null!==(o=p.top)&&void 0!==o?o:0)),")")),g(e,R),e.intersect=function(t){return _.polygon(e,D,t)},u}async function tI(t,e){var a,l,n,i,r,o;let{labelStyles:s,nodeStyles:c}=C(e);e.labelStyle=s;let{shapeSvg:u,bbox:m,label:w}=await h(t,e,y(e)),x=Math.max(m.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),v=Math.max(m.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),b=v/4,k=v+b,M=-x/2,S=-k/2,{cssStyles:D}=e,W=p(M-5,S+k+5,M+x-5,S+k+5,b,.8),N=null==W?void 0:W[W.length-1],A=[{x:M-5,y:S+5},{x:M-5,y:S+k+5},...W,{x:M+x-5,y:N.y-5},{x:M+x,y:N.y-5},{x:M+x,y:N.y-10},{x:M+x+5,y:N.y-10},{x:M+x+5,y:S-5},{x:M+5,y:S-5},{x:M+5,y:S},{x:M,y:S},{x:M,y:S+5}],L=[{x:M,y:S+5},{x:M+x-5,y:S+5},{x:M+x-5,y:N.y-5},{x:M+x,y:N.y-5},{x:M+x,y:S},{x:M,y:S}],R=d.Z.svg(u),P=B(e,{});"handDrawn"!==e.look&&(P.roughness=0,P.fillStyle="solid");let Z=f(A),I=R.path(Z,P),T=f(L),E=R.path(T,P),j=u.insert(()=>I,":first-child");return j.insert(()=>E),j.attr("class","basic label-container"),D&&"handDrawn"!==e.look&&j.selectAll("path").attr("style",D),c&&"handDrawn"!==e.look&&j.selectAll("path").attr("style",c),j.attr("transform","translate(0,".concat(-b/2,")")),w.attr("transform","translate(".concat(-(m.width/2)-5-(m.x-(null!==(r=m.left)&&void 0!==r?r:0)),", ").concat(-(m.height/2)+5-b/2-(m.y-(null!==(o=m.top)&&void 0!==o?o:0)),")")),g(e,j),e.intersect=function(t){return _.polygon(e,A,t)},u}async function tT(t,e,a){var l,n,i,r,o;let{config:{themeVariables:c}}=a,{labelStyles:u,nodeStyles:f}=C(e);e.labelStyle=u,e.useHtmlLabels||(null===(l=(0,s.iE)().flowchart)||void 0===l?void 0:l.htmlLabels)!==!1||(e.centerLabel=!0);let{shapeSvg:p,bbox:m}=await h(t,e,y(e)),w=Math.max(m.width+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.width)&&void 0!==i?i:0),x=Math.max(m.height+(null!==(r=e.padding)&&void 0!==r?r:0)*2,null!==(o=null==e?void 0:e.height)&&void 0!==o?o:0),{cssStyles:v}=e,b=d.Z.svg(p),k=B(e,{fill:c.noteBkgColor,stroke:c.noteBorderColor});"handDrawn"!==e.look&&(k.roughness=0,k.fillStyle="solid");let M=b.rectangle(-w/2,-x/2,w,x,k),S=p.insert(()=>M,":first-child");return S.attr("class","basic label-container"),v&&"handDrawn"!==e.look&&S.selectAll("path").attr("style",v),f&&"handDrawn"!==e.look&&S.selectAll("path").attr("style",f),g(e,S),e.intersect=function(t){return _.rect(e,t)},p}(0,s.eW)(tR,"linedCylinder"),(0,s.eW)(tP,"linedWaveEdgedRect"),(0,s.eW)(tZ,"multiRect"),(0,s.eW)(tI,"multiWaveEdgedRectangle"),(0,s.eW)(tT,"note");var tE=(0,s.eW)((t,e,a)=>["M".concat(t+a/2,",").concat(e),"L".concat(t+a,",").concat(e-a/2),"L".concat(t+a/2,",").concat(e-a),"L".concat(t,",").concat(e-a/2),"Z"].join(" "),"createDecisionBoxPathD");async function tj(t,e){let a;let{labelStyles:l,nodeStyles:n}=C(e);e.labelStyle=l;let{shapeSvg:i,bbox:r}=await h(t,e,y(e)),o=r.width+e.padding+(r.height+e.padding),c=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}],{cssStyles:u}=e;if("handDrawn"===e.look){let t=d.Z.svg(i),l=B(e,{}),n=tE(0,0,o),r=t.path(n,l);a=i.insert(()=>r,":first-child").attr("transform","translate(".concat(-o/2,", ").concat(o/2,")")),u&&a.attr("style",u)}else a=F(i,o,o,c);return n&&a.attr("style",n),g(e,a),e.intersect=function(t){return s.cM.debug("APA12 Intersect called SPLIT\npoint:",t,"\nnode:\n",e,"\nres:",_.polygon(e,c,t)),_.polygon(e,c,t)},i}async function tH(t,e){var a,l,n,i,r,o;let{labelStyles:s,nodeStyles:c}=C(e);e.labelStyle=s;let{shapeSvg:u,bbox:p,label:m}=await h(t,e,y(e)),w=Math.max(p.width+(null!==(a=e.padding)&&void 0!==a?a:0),null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),x=Math.max(p.height+(null!==(n=e.padding)&&void 0!==n?n:0),null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),v=-w/2,b=-x/2,k=b/2,M=[{x:v+k,y:b},{x:v,y:0},{x:v+k,y:-b},{x:-v,y:-b},{x:-v,y:b}],{cssStyles:S}=e,D=d.Z.svg(u),W=B(e,{});"handDrawn"!==e.look&&(W.roughness=0,W.fillStyle="solid");let N=f(M),A=D.path(N,W),L=u.insert(()=>A,":first-child");return L.attr("class","basic label-container"),S&&"handDrawn"!==e.look&&L.selectAll("path").attr("style",S),c&&"handDrawn"!==e.look&&L.selectAll("path").attr("style",c),L.attr("transform","translate(".concat(-k/2,",0)")),m.attr("transform","translate(".concat(-k/2-p.width/2-(p.x-(null!==(r=p.left)&&void 0!==r?r:0)),", ").concat(-(p.height/2)-(p.y-(null!==(o=p.top)&&void 0!==o?o:0)),")")),g(e,L),e.intersect=function(t){return _.polygon(e,M,t)},u}async function tV(t,e){var a,l;let n,i,r;let{labelStyles:o,nodeStyles:h}=C(e);e.labelStyle=o,n=e.cssClasses?"node "+e.cssClasses:"node default";let u=t.insert("g").attr("class",n).attr("id",e.domId||e.id),y=u.insert("g"),f=u.insert("g").attr("class","label").attr("style",h),p=e.description,m=e.label,w=f.node().appendChild(await b(m,e.labelStyle,!0,!0)),x={width:0,height:0};if((0,s.ku)(null===(l=(0,s.nV)())||void 0===l?void 0:null===(a=l.flowchart)||void 0===a?void 0:a.htmlLabels)){let t=w.children[0],e=(0,c.Ys)(w);x=t.getBoundingClientRect(),e.attr("width",x.width),e.attr("height",x.height)}s.cM.info("Text 2",p);let v=p||[],M=w.getBBox(),S=f.node().appendChild(await b(v.join?v.join("<br/>"):v,e.labelStyle,!0,!0)),D=S.children[0],W=(0,c.Ys)(S);x=D.getBoundingClientRect(),W.attr("width",x.width),W.attr("height",x.height);let N=(e.padding||0)/2;(0,c.Ys)(S).attr("transform","translate( "+(x.width>M.width?0:(M.width-x.width)/2)+", "+(M.height+N+5)+")"),(0,c.Ys)(w).attr("transform","translate( "+(x.width<M.width?0:-(M.width-x.width)/2)+", 0)"),x=f.node().getBBox(),f.attr("transform","translate("+-x.width/2+", "+(-x.height/2-N+3)+")");let A=x.width+(e.padding||0),L=x.height+(e.padding||0),R=-x.width/2-N,P=-x.height/2-N;if("handDrawn"===e.look){let t=d.Z.svg(u),a=B(e,{}),l=t.path(k(R,P,A,L,e.rx||0),a),n=t.line(-x.width/2-N,-x.height/2-N+M.height+N,x.width/2+N,-x.height/2-N+M.height+N,a);r=u.insert(()=>(s.cM.debug("Rough node insert CXC",l),n),":first-child"),i=u.insert(()=>(s.cM.debug("Rough node insert CXC",l),l),":first-child")}else i=y.insert("rect",":first-child"),r=y.insert("line"),i.attr("class","outer title-state").attr("style",h).attr("x",-x.width/2-N).attr("y",-x.height/2-N).attr("width",x.width+(e.padding||0)).attr("height",x.height+(e.padding||0)),r.attr("class","divider").attr("x1",-x.width/2-N).attr("x2",x.width/2+N).attr("y1",-x.height/2-N+M.height+N).attr("y2",-x.height/2-N+M.height+N);return g(e,i),e.intersect=function(t){return _.rect(e,t)},u}async function tY(t,e){let a={rx:5,ry:5,classes:"",labelPaddingX:1*((null==e?void 0:e.padding)||0),labelPaddingY:1*((null==e?void 0:e.padding)||0)};return tS(t,e,a)}async function t_(t,e){var a,l,n,i,r,s,c,u,f;let{labelStyles:p,nodeStyles:m}=C(e);e.labelStyle=p;let{shapeSvg:w,bbox:x,label:v}=await h(t,e,y(e)),b=null!==(a=null==e?void 0:e.padding)&&void 0!==a?a:0,k=Math.max(x.width+(null!==(l=e.padding)&&void 0!==l?l:0)*2,null!==(n=null==e?void 0:e.width)&&void 0!==n?n:0),M=Math.max(x.height+(null!==(i=e.padding)&&void 0!==i?i:0)*2,null!==(r=null==e?void 0:e.height)&&void 0!==r?r:0),S=-x.width/2-b,D=-x.height/2-b,{cssStyles:W}=e,N=d.Z.svg(w),A=B(e,{});"handDrawn"!==e.look&&(A.roughness=0,A.fillStyle="solid");let L=N.polygon([{x:S,y:D},{x:S+k+8,y:D},{x:S+k+8,y:D+M},{x:S-8,y:D+M},{x:S-8,y:D},{x:S,y:D},{x:S,y:D+M}].map(t=>[t.x,t.y]),A),R=w.insert(()=>L,":first-child");return R.attr("class","basic label-container").attr("style",(0,o.R7)(W)),m&&"handDrawn"!==e.look&&R.selectAll("path").attr("style",m),W&&"handDrawn"!==e.look&&R.selectAll("path").attr("style",m),v.attr("transform","translate(".concat(-k/2+4+(null!==(s=e.padding)&&void 0!==s?s:0)-(x.x-(null!==(c=x.left)&&void 0!==c?c:0)),",").concat(-M/2+(null!==(u=e.padding)&&void 0!==u?u:0)-(x.y-(null!==(f=x.top)&&void 0!==f?f:0)),")")),g(e,R),e.intersect=function(t){return _.rect(e,t)},w}async function tq(t,e){var a,l,n,i,r,o,s,c;let{labelStyles:u,nodeStyles:p}=C(e);e.labelStyle=u;let{shapeSvg:m,bbox:w,label:x}=await h(t,e,y(e)),v=Math.max(w.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),b=Math.max(w.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),k=-v/2,M=-b/2,{cssStyles:S}=e,D=d.Z.svg(m),W=B(e,{});"handDrawn"!==e.look&&(W.roughness=0,W.fillStyle="solid");let N=[{x:k,y:M},{x:k,y:M+b},{x:k+v,y:M+b},{x:k+v,y:M-b/2}],A=f(N),L=D.path(A,W),R=m.insert(()=>L,":first-child");return R.attr("class","basic label-container"),S&&"handDrawn"!==e.look&&R.selectChildren("path").attr("style",S),p&&"handDrawn"!==e.look&&R.selectChildren("path").attr("style",p),R.attr("transform","translate(0, ".concat(b/4,")")),x.attr("transform","translate(".concat(-v/2+(null!==(r=e.padding)&&void 0!==r?r:0)-(w.x-(null!==(o=w.left)&&void 0!==o?o:0)),", ").concat(-b/4+(null!==(s=e.padding)&&void 0!==s?s:0)-(w.y-(null!==(c=w.top)&&void 0!==c?c:0)),")")),g(e,R),e.intersect=function(t){return _.polygon(e,N,t)},m}async function tz(t,e){let a={rx:0,ry:0,classes:"",labelPaddingX:2*((null==e?void 0:e.padding)||0),labelPaddingY:1*((null==e?void 0:e.padding)||0)};return tS(t,e,a)}async function tO(t,e){let a;let{labelStyles:l,nodeStyles:n}=C(e);e.labelStyle=l;let{shapeSvg:i,bbox:r}=await h(t,e,y(e)),s=r.height+e.padding,c=r.width+s/4+e.padding,{cssStyles:u}=e;if("handDrawn"===e.look){let t=d.Z.svg(i),l=B(e,{}),n=k(-c/2,-s/2,c,s,s/2),r=t.path(n,l);(a=i.insert(()=>r,":first-child")).attr("class","basic label-container").attr("style",(0,o.R7)(u))}else(a=i.insert("rect",":first-child")).attr("class","basic label-container").attr("style",n).attr("rx",s/2).attr("ry",s/2).attr("x",-c/2).attr("y",-s/2).attr("width",c).attr("height",s);return g(e,a),e.intersect=function(t){return _.rect(e,t)},i}async function tF(t,e){return tS(t,e,{rx:5,ry:5,classes:"flowchart-node"})}function tX(t,e,a){let{config:{themeVariables:l}}=a,{labelStyles:n,nodeStyles:i}=C(e);e.labelStyle=n;let{cssStyles:r}=e,{lineColor:o,stateBorder:s,nodeBorder:c}=l,h=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),u=d.Z.svg(h),y=B(e,{});"handDrawn"!==e.look&&(y.roughness=0,y.fillStyle="solid");let f=u.circle(0,0,14,{...y,stroke:o,strokeWidth:2}),p=null!=s?s:c,m=u.circle(0,0,5,{...y,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),w=h.insert(()=>f,":first-child");return w.insert(()=>m),r&&w.selectAll("path").attr("style",r),i&&w.selectAll("path").attr("style",i),g(e,w),e.intersect=function(t){return _.circle(e,7,t)},h}function tJ(t,e,a){let l,{config:{themeVariables:n}}=a,{lineColor:i}=n,r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);if("handDrawn"===e.look){let t=d.Z.svg(r).circle(0,0,14,M(i));(l=r.insert(()=>t)).attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else(l=r.insert("circle",":first-child")).attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return g(e,l),e.intersect=function(t){return _.circle(e,7,t)},r}async function tU(t,e){let{labelStyles:a,nodeStyles:l}=C(e);e.labelStyle=a;let{shapeSvg:n,bbox:i}=await h(t,e,y(e)),r=((null==e?void 0:e.padding)||0)/2,s=i.width+e.padding,c=i.height+e.padding,u=-i.width/2-r,f=-i.height/2-r,p=[{x:0,y:0},{x:s,y:0},{x:s,y:-c},{x:0,y:-c},{x:0,y:0},{x:-8,y:0},{x:s+8,y:0},{x:s+8,y:-c},{x:-8,y:-c},{x:-8,y:0}];if("handDrawn"===e.look){let t=d.Z.svg(n),a=B(e,{}),l=t.rectangle(u-8,f,s+16,c,a),i=t.line(u,f,u,f+c,a),r=t.line(u+s,f,u+s,f+c,a);n.insert(()=>i,":first-child"),n.insert(()=>r,":first-child");let h=n.insert(()=>l,":first-child"),{cssStyles:y}=e;h.attr("class","basic label-container").attr("style",(0,o.R7)(y)),g(e,h)}else{let t=F(n,s,c,p);l&&t.attr("style",l),g(e,t)}return e.intersect=function(t){return _.polygon(e,p,t)},n}async function tG(t,e){var a,l,n,i;let{labelStyles:r,nodeStyles:o}=C(e);e.labelStyle=r;let{shapeSvg:s,bbox:c}=await h(t,e,y(e)),u=Math.max(c.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),p=Math.max(c.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),m=-u/2,w=-p/2,x=.2*p,{cssStyles:v}=e,b=d.Z.svg(s),k=B(e,{}),M=[{x:m-x/2,y:w},{x:m+u+x/2,y:w},{x:m+u+x/2,y:w+p},{x:m-x/2,y:w+p}];"handDrawn"!==e.look&&(k.roughness=0,k.fillStyle="solid");let S=f(M),D=b.path(S,k),W=f([{x:m+u-x/2,y:w+p},{x:m+u+x/2,y:w+p},{x:m+u+x/2,y:w+p-.2*p}]),N=b.path(W,{...k,fillStyle:"solid"}),A=s.insert(()=>N,":first-child");return A.insert(()=>D,":first-child"),A.attr("class","basic label-container"),v&&"handDrawn"!==e.look&&A.selectAll("path").attr("style",v),o&&"handDrawn"!==e.look&&A.selectAll("path").attr("style",o),g(e,A),e.intersect=function(t){return _.polygon(e,M,t)},s}async function tK(t,e){var a,l,n,i,r,o,s,c;let{labelStyles:u,nodeStyles:m}=C(e);e.labelStyle=u;let{shapeSvg:w,bbox:x,label:v}=await h(t,e,y(e)),b=Math.max(x.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),k=Math.max(x.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),M=k/4,S=.2*b,D=.2*k,W=k+M,{cssStyles:N}=e,A=d.Z.svg(w),L=B(e,{});"handDrawn"!==e.look&&(L.roughness=0,L.fillStyle="solid");let R=[{x:-b/2-b/2*.1,y:W/2},...p(-b/2-b/2*.1,W/2,b/2+b/2*.1,W/2,M,.8),{x:b/2+b/2*.1,y:-W/2},{x:-b/2-b/2*.1,y:-W/2}],P=-b/2+b/2*.1,Z=-W/2-.4*D,I=[{x:P+b-S,y:(Z+k)*1.4},{x:P+b,y:Z+k-D},{x:P+b,y:(Z+k)*.9},...p(P+b,(Z+k)*1.3,P+b-S,(Z+k)*1.5,-(.03*k),.5)],T=f(R),E=A.path(T,L),j=f(I),H=A.path(j,{...L,fillStyle:"solid"}),V=w.insert(()=>H,":first-child");return V.insert(()=>E,":first-child"),V.attr("class","basic label-container"),N&&"handDrawn"!==e.look&&V.selectAll("path").attr("style",N),m&&"handDrawn"!==e.look&&V.selectAll("path").attr("style",m),V.attr("transform","translate(0,".concat(-M/2,")")),v.attr("transform","translate(".concat(-b/2+(null!==(r=e.padding)&&void 0!==r?r:0)-(x.x-(null!==(o=x.left)&&void 0!==o?o:0)),",").concat(-k/2+(null!==(s=e.padding)&&void 0!==s?s:0)-M/2-(x.y-(null!==(c=x.top)&&void 0!==c?c:0)),")")),g(e,V),e.intersect=function(t){return _.polygon(e,R,t)},w}async function tQ(t,e){let{labelStyles:a,nodeStyles:l}=C(e);e.labelStyle=a;let{shapeSvg:n,bbox:i}=await h(t,e,y(e)),r=Math.max(i.width+e.padding,(null==e?void 0:e.width)||0),o=Math.max(i.height+e.padding,(null==e?void 0:e.height)||0),s=n.insert("rect",":first-child");return s.attr("class","text").attr("style",l).attr("rx",0).attr("ry",0).attr("x",-r/2).attr("y",-o/2).attr("width",r).attr("height",o),g(e,s),e.intersect=function(t){return _.rect(e,t)},n}(0,s.eW)(tj,"question"),(0,s.eW)(tH,"rect_left_inv_arrow"),(0,s.eW)(tV,"rectWithTitle"),(0,s.eW)(tY,"roundedRect"),(0,s.eW)(t_,"shadedProcess"),(0,s.eW)(tq,"slopedRect"),(0,s.eW)(tz,"squareRect"),(0,s.eW)(tO,"stadium"),(0,s.eW)(tF,"state"),(0,s.eW)(tX,"stateEnd"),(0,s.eW)(tJ,"stateStart"),(0,s.eW)(tU,"subroutine"),(0,s.eW)(tG,"taggedRect"),(0,s.eW)(tK,"taggedWaveEdgedRectangle"),(0,s.eW)(tQ,"text");var t$=(0,s.eW)((t,e,a,l,n,i)=>"M".concat(t,",").concat(e,"\n    a").concat(n,",").concat(i," 0,0,1 ",0,",").concat(-l,"\n    l").concat(a,",",0,"\n    a").concat(n,",").concat(i," 0,0,1 ",0,",").concat(l,"\n    M").concat(a,",").concat(-l,"\n    a").concat(n,",").concat(i," 0,0,0 ",0,",").concat(l,"\n    l").concat(-a,",",0),"createCylinderPathD"),t0=(0,s.eW)((t,e,a,l,n,i)=>["M".concat(t,",").concat(e),"M".concat(t+a,",").concat(e),"a".concat(n,",").concat(i," 0,0,0 ",0,",").concat(-l),"l".concat(-a,",0"),"a".concat(n,",").concat(i," 0,0,0 ",0,",").concat(l),"l".concat(a,",0")].join(" "),"createOuterCylinderPathD"),t2=(0,s.eW)((t,e,a,l,n,i)=>["M".concat(t+a/2,",").concat(-l/2),"a".concat(n,",").concat(i," 0,0,0 0,").concat(l)].join(" "),"createInnerCylinderPathD");async function t1(t,e){var a,l;let n;let{labelStyles:i,nodeStyles:r}=C(e);e.labelStyle=i;let{shapeSvg:s,bbox:c,label:u,halfPadding:f}=await h(t,e,y(e)),p="neo"===e.look?2*f:f,m=c.height+p,w=m/2,x=w/(2.5+m/50),v=c.width+x+p,{cssStyles:b}=e;if("handDrawn"===e.look){let t=d.Z.svg(s),a=t0(0,0,v,m,x,w),l=t2(0,0,v,m,x,w),i=t.path(a,B(e,{})),r=t.path(l,B(e,{fill:"none"}));n=s.insert(()=>r,":first-child"),(n=s.insert(()=>i,":first-child")).attr("class","basic label-container"),b&&n.attr("style",b)}else{let t=t$(0,0,v,m,x,w);(n=s.insert("path",":first-child").attr("d",t).attr("class","basic label-container").attr("style",(0,o.R7)(b)).attr("style",r)).attr("class","basic label-container"),b&&n.selectAll("path").attr("style",b),r&&n.selectAll("path").attr("style",r)}return n.attr("label-offset-x",x),n.attr("transform","translate(".concat(-v/2,", ").concat(m/2," )")),u.attr("transform","translate(".concat(-(c.width/2)-x-(c.x-(null!==(a=c.left)&&void 0!==a?a:0)),", ").concat(-(c.height/2)-(c.y-(null!==(l=c.top)&&void 0!==l?l:0)),")")),g(e,n),e.intersect=function(t){var a,l,n,i,r,o;let s=_.rect(e,t),c=s.y-(null!==(a=e.y)&&void 0!==a?a:0);if(0!=w&&(Math.abs(c)<(null!==(l=e.height)&&void 0!==l?l:0)/2||Math.abs(c)==(null!==(n=e.height)&&void 0!==n?n:0)/2&&Math.abs(s.x-(null!==(i=e.x)&&void 0!==i?i:0))>(null!==(r=e.width)&&void 0!==r?r:0)/2-x)){let a=x*x*(1-c*c/(w*w));0!=a&&(a=Math.sqrt(Math.abs(a))),a=x-a,t.x-(null!==(o=e.x)&&void 0!==o?o:0)>0&&(a=-a),s.x+=a}return s},s}async function t5(t,e){let a;let{labelStyles:l,nodeStyles:n}=C(e);e.labelStyle=l;let{shapeSvg:i,bbox:r}=await h(t,e,y(e)),o=r.width+e.padding,s=r.height+e.padding,c=[{x:-3*s/6,y:0},{x:o+3*s/6,y:0},{x:o,y:-s},{x:0,y:-s}],{cssStyles:u}=e;if("handDrawn"===e.look){let t=d.Z.svg(i),l=B(e,{}),n=f(c),r=t.path(n,l);a=i.insert(()=>r,":first-child").attr("transform","translate(".concat(-o/2,", ").concat(s/2,")")),u&&a.attr("style",u)}else a=F(i,o,s,c);return n&&a.attr("style",n),e.width=o,e.height=s,g(e,a),e.intersect=function(t){return _.polygon(e,c,t)},i}async function t8(t,e){var a,l,n,i;let{labelStyles:r,nodeStyles:o}=C(e);e.labelStyle=r;let{shapeSvg:s,bbox:c}=await h(t,e,y(e)),u=Math.max(60,c.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),p=Math.max(20,c.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),{cssStyles:m}=e,w=d.Z.svg(s),x=B(e,{});"handDrawn"!==e.look&&(x.roughness=0,x.fillStyle="solid");let v=[{x:-u/2*.8,y:-p/2},{x:u/2*.8,y:-p/2},{x:u/2,y:-p/2*.6},{x:u/2,y:p/2},{x:-u/2,y:p/2},{x:-u/2,y:-p/2*.6}],b=f(v),k=w.path(b,x),M=s.insert(()=>k,":first-child");return M.attr("class","basic label-container"),m&&"handDrawn"!==e.look&&M.selectChildren("path").attr("style",m),o&&"handDrawn"!==e.look&&M.selectChildren("path").attr("style",o),g(e,M),e.intersect=function(t){return _.polygon(e,v,t)},s}async function t4(t,e){var a,l,n,i,r;let{labelStyles:o,nodeStyles:c}=C(e);e.labelStyle=o;let{shapeSvg:u,bbox:p,label:m}=await h(t,e,y(e)),w=(0,s.ku)(null===(a=(0,s.nV)().flowchart)||void 0===a?void 0:a.htmlLabels),x=p.width+(null!==(l=e.padding)&&void 0!==l?l:0),v=x+p.height,b=x+p.height,k=[{x:0,y:0},{x:b,y:0},{x:b/2,y:-v}],{cssStyles:M}=e,S=d.Z.svg(u),D=B(e,{});"handDrawn"!==e.look&&(D.roughness=0,D.fillStyle="solid");let W=f(k),N=S.path(W,D),A=u.insert(()=>N,":first-child").attr("transform","translate(".concat(-v/2,", ").concat(v/2,")"));return M&&"handDrawn"!==e.look&&A.selectChildren("path").attr("style",M),c&&"handDrawn"!==e.look&&A.selectChildren("path").attr("style",c),e.width=x,e.height=v,g(e,A),m.attr("transform","translate(".concat(-p.width/2-(p.x-(null!==(n=p.left)&&void 0!==n?n:0)),", ").concat(v/2-(p.height+(null!==(i=e.padding)&&void 0!==i?i:0)/(w?2:1)-(p.y-(null!==(r=p.top)&&void 0!==r?r:0))),")")),e.intersect=function(t){return s.cM.info("Triangle intersect",e,k,t),_.polygon(e,k,t)},u}async function t3(t,e){var a,l,n,i,r,o,s,c;let{labelStyles:u,nodeStyles:m}=C(e);e.labelStyle=u;let{shapeSvg:w,bbox:x,label:v}=await h(t,e,y(e)),b=Math.max(x.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),k=Math.max(x.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),M=k/8,S=k+M,{cssStyles:D}=e,W=70-b,N=W>0?W/2:0,A=d.Z.svg(w),L=B(e,{});"handDrawn"!==e.look&&(L.roughness=0,L.fillStyle="solid");let R=[{x:-b/2-N,y:S/2},...p(-b/2-N,S/2,b/2+N,S/2,M,.8),{x:b/2+N,y:-S/2},{x:-b/2-N,y:-S/2}],P=f(R),Z=A.path(P,L),I=w.insert(()=>Z,":first-child");return I.attr("class","basic label-container"),D&&"handDrawn"!==e.look&&I.selectAll("path").attr("style",D),m&&"handDrawn"!==e.look&&I.selectAll("path").attr("style",m),I.attr("transform","translate(0,".concat(-M/2,")")),v.attr("transform","translate(".concat(-b/2+(null!==(r=e.padding)&&void 0!==r?r:0)-(x.x-(null!==(o=x.left)&&void 0!==o?o:0)),",").concat(-k/2+(null!==(s=e.padding)&&void 0!==s?s:0)-M-(x.y-(null!==(c=x.top)&&void 0!==c?c:0)),")")),g(e,I),e.intersect=function(t){return _.polygon(e,R,t)},w}async function t7(t,e){var a,l,n,i;let{labelStyles:r,nodeStyles:o}=C(e);e.labelStyle=r;let{shapeSvg:s,bbox:c}=await h(t,e,y(e)),u=Math.max(c.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),m=Math.max(c.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),w=u/m,x=u,v=m;x>v*w?v=x/w:x=v*w,x=Math.max(x,100);let b=Math.min(.2*(v=Math.max(v,50)),v/4),k=v+2*b,{cssStyles:M}=e,S=d.Z.svg(s),D=B(e,{});"handDrawn"!==e.look&&(D.roughness=0,D.fillStyle="solid");let W=[{x:-x/2,y:k/2},...p(-x/2,k/2,x/2,k/2,b,1),{x:x/2,y:-k/2},...p(x/2,-k/2,-x/2,-k/2,b,-1)],N=f(W),A=S.path(N,D),L=s.insert(()=>A,":first-child");return L.attr("class","basic label-container"),M&&"handDrawn"!==e.look&&L.selectAll("path").attr("style",M),o&&"handDrawn"!==e.look&&L.selectAll("path").attr("style",o),g(e,L),e.intersect=function(t){return _.polygon(e,W,t)},s}async function t9(t,e){var a,l,n,i,r,o;let{labelStyles:s,nodeStyles:c}=C(e);e.labelStyle=s;let{shapeSvg:u,bbox:f,label:p}=await h(t,e,y(e)),m=Math.max(f.width+(null!==(a=e.padding)&&void 0!==a?a:0)*2,null!==(l=null==e?void 0:e.width)&&void 0!==l?l:0),w=Math.max(f.height+(null!==(n=e.padding)&&void 0!==n?n:0)*2,null!==(i=null==e?void 0:e.height)&&void 0!==i?i:0),x=-m/2,v=-w/2,{cssStyles:b}=e,k=d.Z.svg(u),M=B(e,{}),S=[{x:x-5,y:v-5},{x:x-5,y:v+w},{x:x+m,y:v+w},{x:x+m,y:v-5}],D="M".concat(x-5,",").concat(v-5," L").concat(x+m,",").concat(v-5," L").concat(x+m,",").concat(v+w," L").concat(x-5,",").concat(v+w," L").concat(x-5,",").concat(v-5,"\n                M").concat(x-5,",").concat(v," L").concat(x+m,",").concat(v,"\n                M").concat(x,",").concat(v-5," L").concat(x,",").concat(v+w);"handDrawn"!==e.look&&(M.roughness=0,M.fillStyle="solid");let W=k.path(D,M),N=u.insert(()=>W,":first-child");return N.attr("transform","translate(".concat(2.5,", ").concat(2.5,")")),N.attr("class","basic label-container"),b&&"handDrawn"!==e.look&&N.selectAll("path").attr("style",b),c&&"handDrawn"!==e.look&&N.selectAll("path").attr("style",c),p.attr("transform","translate(".concat(-(f.width/2)+2.5-(f.x-(null!==(r=f.left)&&void 0!==r?r:0)),", ").concat(-(f.height/2)+2.5-(f.y-(null!==(o=f.top)&&void 0!==o?o:0)),")")),g(e,N),e.intersect=function(t){return _.polygon(e,S,t)},u}async function t6(t,e){var a,l,n,i,r,h;if(e.alias&&(e.label=e.alias),"handDrawn"===e.look){let{themeVariables:a}=(0,s.iE)(),{background:l}=a,n={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none","fill: ".concat(l)]};await t6(t,n)}let u=(0,s.iE)();e.useHtmlLabels=u.htmlLabels;let f=null!==(n=null===(a=u.er)||void 0===a?void 0:a.diagramPadding)&&void 0!==n?n:10,p=null!==(i=null===(l=u.er)||void 0===l?void 0:l.entityPadding)&&void 0!==i?i:6,{cssStyles:m}=e,{labelStyles:w}=C(e);if(0===e.attributes.length&&e.label){let a={rx:0,ry:0,labelPaddingX:f,labelPaddingY:1.5*f,classes:""};(0,o.Cq)(e.label,u)+2*a.labelPaddingX<u.er.minEntityWidth&&(e.width=u.er.minEntityWidth);let l=await tS(t,e,a);if(!(0,s.ku)(u.htmlLabels)){let t=l.select("text"),e=null===(r=t.node())||void 0===r?void 0:r.getBBox();t.attr("transform","translate(".concat(-e.width/2,", 0)"))}return l}u.htmlLabels||(f*=1.25,p*=1.25);let x=y(e);x||(x="node default");let v=t.insert("g").attr("class",x).attr("id",e.domId||e.id),b=await et(v,null!==(h=e.label)&&void 0!==h?h:"",u,0,0,["name"],w);b.height+=p;let k=0,M=[],S=0,D=0,W=0,N=0,A=!0,L=!0;for(let t of e.attributes){let e=await et(v,t.type,u,0,k,["attribute-type"],w);S=Math.max(S,e.width+f);let a=await et(v,t.name,u,0,k,["attribute-name"],w);D=Math.max(D,a.width+f);let l=await et(v,t.keys.join(),u,0,k,["attribute-keys"],w);W=Math.max(W,l.width+f);let n=await et(v,t.comment,u,0,k,["attribute-comment"],w);N=Math.max(N,n.width+f),k+=Math.max(e.height,a.height,l.height,n.height)+p,M.push(k)}M.pop();let R=4;W<=f&&(A=!1,W=0,R--),N<=f&&(L=!1,N=0,R--);let P=v.node().getBBox();if(b.width+2*f-(S+D+W+N)>0){let t=b.width+2*f-(S+D+W+N);S+=t/R,D+=t/R,W>0&&(W+=t/R),N>0&&(N+=t/R)}let Z=S+D+W+N,I=d.Z.svg(v),T=B(e,{});"handDrawn"!==e.look&&(T.roughness=0,T.fillStyle="solid");let E=Math.max(P.width+2*f,(null==e?void 0:e.width)||0,Z),j=Math.max(P.height+(M[0]||k)+p,(null==e?void 0:e.height)||0),H=-E/2,V=-j/2;v.selectAll("g:not(:first-child)").each((t,e,a)=>{let l=(0,c.Ys)(a[e]),n=l.attr("transform"),i=0,r=0;if(n){let t=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(n);t&&(i=parseFloat(t[1]),r=parseFloat(t[2]),l.attr("class").includes("attribute-name")?i+=S:l.attr("class").includes("attribute-keys")?i+=S+D:l.attr("class").includes("attribute-comment")&&(i+=S+D+W))}l.attr("transform","translate(".concat(H+f/2+i,", ").concat(r+V+b.height+p/2,")"))}),v.select(".name").attr("transform","translate("+-b.width/2+", "+(V+p/2)+")");let Y=I.rectangle(H,V,E,j,T),q=v.insert(()=>Y,":first-child").attr("style",m.join("")),{themeVariables:z}=(0,s.iE)(),{rowEven:O,rowOdd:F,nodeBorder:X}=z;for(let[t,e]of(M.push(0),M.entries())){if(0===t&&M.length>1)continue;let a=t%2==0&&0!==e,l=I.rectangle(H,b.height+V+e,E,b.height,{...T,fill:a?O:F,stroke:X});v.insert(()=>l,"g.label").attr("style",m.join("")).attr("class","row-rect-".concat(t%2==0?"even":"odd"))}let J=I.line(H,b.height+V,E+H,b.height+V,T);for(let t of(v.insert(()=>J).attr("class","divider"),J=I.line(S+H,b.height+V,S+H,j+V,T),v.insert(()=>J).attr("class","divider"),A&&(J=I.line(S+D+H,b.height+V,S+D+H,j+V,T),v.insert(()=>J).attr("class","divider")),L&&(J=I.line(S+D+W+H,b.height+V,S+D+W+H,j+V,T),v.insert(()=>J).attr("class","divider")),M))J=I.line(H,b.height+V+t,E+H,b.height+V+t,T),v.insert(()=>J).attr("class","divider");return g(e,q),e.intersect=function(t){return _.rect(e,t)},v}async function et(t,e,a){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",h=t.insert("g").attr("class","label ".concat(i.join(" "))).attr("transform","translate(".concat(l,", ").concat(n,")")).attr("style",d);e!==(0,s.UO)(e)&&(e=(e=(0,s.UO)(e)).replaceAll("<","&lt;").replaceAll(">","&gt;"));let u=h.node().appendChild(await (0,r.rw)(h,e,{width:(0,o.Cq)(e,a)+100,style:d,useHtmlLabels:a.htmlLabels},a));if(e.includes("&lt;")||e.includes("&gt;")){let t=u.children[0];for(t.textContent=t.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");t.childNodes[0];)(t=t.childNodes[0]).textContent=t.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let g=u.getBBox();if((0,s.ku)(a.htmlLabels)){let t=u.children[0];t.style.textAlign="start";let e=(0,c.Ys)(u);g=t.getBoundingClientRect(),e.attr("width",g.width),e.attr("height",g.height)}return g}async function ee(t,e,a,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null!==(l=a.class.padding)&&void 0!==l?l:12,r=n?0:3,o=t.insert("g").attr("class",y(e)).attr("id",e.domId||e.id),s=null,c=null,d=null,h=null,u=0,g=0,f=0;if(s=o.insert("g").attr("class","annotation-group text"),e.annotations.length>0){let t=e.annotations[0];await ea(s,{text:"\xab".concat(t,"\xbb")},0),u=s.node().getBBox().height}c=o.insert("g").attr("class","label-group text"),await ea(c,e,0,["font-weight: bolder"]);let p=c.node().getBBox();g=p.height,d=o.insert("g").attr("class","members-group text");let m=0;for(let t of e.members){let e=await ea(d,t,m,[t.parseClassifier()]);m+=e+r}(f=d.node().getBBox().height)<=0&&(f=i/2),h=o.insert("g").attr("class","methods-group text");let w=0;for(let t of e.methods){let e=await ea(h,t,w,[t.parseClassifier()]);w+=e+r}let x=o.node().getBBox();if(null!==s){let t=s.node().getBBox();s.attr("transform","translate(".concat(-t.width/2,")"))}return c.attr("transform","translate(".concat(-p.width/2,", ").concat(u,")")),x=o.node().getBBox(),d.attr("transform","translate(".concat(0,", ").concat(u+g+2*i,")")),x=o.node().getBBox(),h.attr("transform","translate(".concat(0,", ").concat(u+g+(f?f+4*i:2*i),")")),x=o.node().getBBox(),{shapeSvg:o,bbox:x}}async function ea(t,e,a){var l;let n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],d=t.insert("g").attr("class","label").attr("style",i.join("; ")),h=(0,s.iE)(),u="useHtmlLabels"in e?e.useHtmlLabels:null===(l=(0,s.ku)(h.htmlLabels))||void 0===l||l,g="";g="text"in e?e.text:e.label,!u&&g.startsWith("\\")&&(g=g.substring(1)),(0,s.l0)(g)&&(u=!0);let y=await (0,r.rw)(d,(0,s.uX)((0,o.SH)(g)),{width:(0,o.Cq)(g,h)+50,classes:"markdown-node-label",useHtmlLabels:u},h),f=1;if(u){let t=y.children[0],e=(0,c.Ys)(y);f=t.innerHTML.split("<br>").length,t.innerHTML.includes("</math>")&&(f+=t.innerHTML.split("<mrow>").length-1);let a=t.getElementsByTagName("img");if(a){let t=""===g.replace(/<img[^>]*>/g,"").trim();await Promise.all([...a].map(e=>new Promise(a=>{function l(){if(e.style.display="flex",e.style.flexDirection="column",t){var l,n;let t=5*parseInt(null!==(n=null===(l=h.fontSize)||void 0===l?void 0:l.toString())&&void 0!==n?n:window.getComputedStyle(document.body).fontSize,10)+"px";e.style.minWidth=t,e.style.maxWidth=t}else e.style.width="100%";a(e)}(0,s.eW)(l,"setupImage"),setTimeout(()=>{e.complete&&l()}),e.addEventListener("error",l),e.addEventListener("load",l)})))}n=t.getBoundingClientRect(),e.attr("width",n.width),e.attr("height",n.height)}else{i.includes("font-weight: bolder")&&(0,c.Ys)(y).selectAll("tspan").attr("font-weight",""),f=y.children.length;let t=y.children[0];(""===y.textContent||y.textContent.includes("&gt"))&&(t.textContent=g[0]+g.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim()," "===g[1]&&(t.textContent=t.textContent[0]+" "+t.textContent.substring(1))),"undefined"===t.textContent&&(t.textContent=""),n=y.getBBox()}return d.attr("transform","translate(0,"+(-n.height/(2*f)+a)+")"),n.height}async function el(t,e){var a,l,n,i,r,o,h,u;let y=(0,s.nV)(),f=null!==(n=y.class.padding)&&void 0!==n?n:12,p=null===(r=null!==(i=e.useHtmlLabels)&&void 0!==i?i:(0,s.ku)(y.htmlLabels))||void 0===r||r;e.annotations=null!==(o=e.annotations)&&void 0!==o?o:[],e.members=null!==(h=e.members)&&void 0!==h?h:[],e.methods=null!==(u=e.methods)&&void 0!==u?u:[];let{shapeSvg:m,bbox:w}=await ee(t,e,y,p,f),{labelStyles:x,nodeStyles:v}=C(e);e.labelStyle=x,e.cssStyles=e.styles||"";let b=(null===(a=e.styles)||void 0===a?void 0:a.join(";"))||v||"";e.cssStyles||(e.cssStyles=b.replaceAll("!important","").split(";"));let k=0===e.members.length&&0===e.methods.length&&!(null===(l=y.class)||void 0===l?void 0:l.hideEmptyMembersBox),M=d.Z.svg(m),S=B(e,{});"handDrawn"!==e.look&&(S.roughness=0,S.fillStyle="solid");let D=w.width,W=w.height;0===e.members.length&&0===e.methods.length?W+=f:e.members.length>0&&0===e.methods.length&&(W+=2*f);let N=-D/2,A=-W/2,L=M.rectangle(N-f,A-f-(k?f:0===e.members.length&&0===e.methods.length?-f/2:0),D+2*f,W+2*f+(k?2*f:0===e.members.length&&0===e.methods.length?-f:0),S),R=m.insert(()=>L,":first-child");R.attr("class","basic label-container");let P=R.node().getBBox();m.selectAll(".text").each((t,a,l)=>{let n=(0,c.Ys)(l[a]),i=n.attr("transform"),r=0;if(i){let t=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(i);t&&(r=parseFloat(t[2]))}let o=r+A+f-(k?f:0===e.members.length&&0===e.methods.length?-f/2:0);p||(o-=4);let s=N;if(n.attr("class").includes("label-group")||n.attr("class").includes("annotation-group")){var d;s=-(null===(d=n.node())||void 0===d?void 0:d.getBBox().width)/2||0,m.selectAll("text").each(function(t,e,a){"middle"===window.getComputedStyle(a[e]).textAnchor&&(s=0)})}n.attr("transform","translate(".concat(s,", ").concat(o,")"))});let Z=m.select(".annotation-group").node().getBBox().height-(k?f/2:0)||0,I=m.select(".label-group").node().getBBox().height-(k?f/2:0)||0,T=m.select(".members-group").node().getBBox().height-(k?f/2:0)||0;if(e.members.length>0||e.methods.length>0||k){let t=M.line(P.x,Z+I+A+f,P.x+P.width,Z+I+A+f,S);m.insert(()=>t).attr("class","divider").attr("style",b)}if(k||e.members.length>0||e.methods.length>0){let t=M.line(P.x,Z+I+T+A+2*f+f,P.x+P.width,Z+I+T+A+f+2*f,S);m.insert(()=>t).attr("class","divider").attr("style",b)}if("handDrawn"!==e.look&&m.selectAll("path").attr("style",b),R.select(":nth-child(2)").attr("style",b),m.selectAll(".divider").select("path").attr("style",b),e.labelStyle?m.selectAll("span").attr("style",e.labelStyle):m.selectAll("span").attr("style",b),!p){let t=RegExp(/color\s*:\s*([^;]*)/),e=t.exec(b);if(e){let t=e[0].replace("color","fill");m.selectAll("tspan").attr("style",t)}else if(x){let e=t.exec(x);if(e){let t=e[0].replace("color","fill");m.selectAll("tspan").attr("style",t)}}}return g(e,R),e.intersect=function(t){return _.rect(e,t)},m}async function en(t,e){var a,l,n,i,r;let o;let{labelStyles:s,nodeStyles:h}=C(e);e.labelStyle=s;let u="verifyMethod"in e,f=y(e),p=t.insert("g").attr("class",f).attr("id",null!==(n=e.domId)&&void 0!==n?n:e.id),m=o=u?await ei(p,"&lt;&lt;".concat(e.type,"&gt;&gt;"),0,e.labelStyle):await ei(p,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle),w=await ei(p,e.name,m,e.labelStyle+"; font-weight: bold;");if(m+=w+20,u){let t=await ei(p,"".concat(e.requirementId?"Id: ".concat(e.requirementId):""),m,e.labelStyle);m+=t;let a=await ei(p,"".concat(e.text?"Text: ".concat(e.text):""),m,e.labelStyle);m+=a;let l=await ei(p,"".concat(e.risk?"Risk: ".concat(e.risk):""),m,e.labelStyle);m+=l,await ei(p,"".concat(e.verifyMethod?"Verification: ".concat(e.verifyMethod):""),m,e.labelStyle)}else{let t=await ei(p,"".concat(e.type?"Type: ".concat(e.type):""),m,e.labelStyle);m+=t,await ei(p,"".concat(e.docRef?"Doc Ref: ".concat(e.docRef):""),m,e.labelStyle)}let x=(null!==(i=null===(a=p.node())||void 0===a?void 0:a.getBBox().width)&&void 0!==i?i:200)+20,v=(null!==(r=null===(l=p.node())||void 0===l?void 0:l.getBBox().height)&&void 0!==r?r:200)+20,b=-x/2,k=-v/2,M=d.Z.svg(p),S=B(e,{});"handDrawn"!==e.look&&(S.roughness=0,S.fillStyle="solid");let D=M.rectangle(b,k,x,v,S),W=p.insert(()=>D,":first-child");if(W.attr("class","basic label-container").attr("style",h),p.selectAll(".label").each((t,e,a)=>{let l=(0,c.Ys)(a[e]),n=l.attr("transform"),i=0,r=0;if(n){let t=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(n);t&&(i=parseFloat(t[1]),r=parseFloat(t[2]))}let o=r-v/2,s=b+10;(0===e||1===e)&&(s=i),l.attr("transform","translate(".concat(s,", ").concat(o+20,")"))}),m>o+w+20){let t=M.line(b,k+o+w+20,b+x,k+o+w+20,S);p.insert(()=>t).attr("style",h)}return g(e,W),e.intersect=function(t){return _.rect(e,t)},p}async function ei(t,e,a){var l;let n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(""===e)return 0;let d=t.insert("g").attr("class","label").attr("style",i),h=(0,s.nV)(),u=null===(l=h.htmlLabels)||void 0===l||l,g=await (0,r.rw)(d,(0,s.uX)((0,o.SH)(e)),{width:(0,o.Cq)(e,h)+50,classes:"markdown-node-label",useHtmlLabels:u,style:i},h);if(u){let t=g.children[0],e=(0,c.Ys)(g);n=t.getBoundingClientRect(),e.attr("width",n.width),e.attr("height",n.height)}else{for(let t of g.children[0].children)t.textContent=t.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&t.setAttribute("style",i);n=g.getBBox(),n.height+=6}return d.attr("transform","translate(".concat(-n.width/2,",").concat(-n.height/2+a,")")),n.height}(0,s.eW)(t1,"tiltedCylinder"),(0,s.eW)(t5,"trapezoid"),(0,s.eW)(t8,"trapezoidalPentagon"),(0,s.eW)(t4,"triangle"),(0,s.eW)(t3,"waveEdgedRectangle"),(0,s.eW)(t7,"waveRectangle"),(0,s.eW)(t9,"windowPane"),(0,s.eW)(t6,"erBox"),(0,s.eW)(et,"addText"),(0,s.eW)(ee,"textHelper"),(0,s.eW)(ea,"addText"),(0,s.eW)(el,"classBox"),(0,s.eW)(en,"requirementBox"),(0,s.eW)(ei,"addText");var er=(0,s.eW)(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function eo(t,e,a){var l,n,i;let r,o,s,c,{config:f}=a,{labelStyles:p,nodeStyles:m}=C(e);e.labelStyle=p||"";let w=e.width;e.width=(null!==(n=e.width)&&void 0!==n?n:200)-10;let{shapeSvg:x,bbox:v,label:b}=await h(t,e,y(e)),M=e.padding||10,S="";"ticket"in e&&e.ticket&&(null==f?void 0:null===(l=f.kanban)||void 0===l?void 0:l.ticketBaseUrl)&&(S=null==f?void 0:null===(i=f.kanban)||void 0===i?void 0:i.ticketBaseUrl.replace("#TICKET#",e.ticket),r=x.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",S).attr("target","_blank"));let D={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};r?{label:o,bbox:s}=await u(r,"ticket"in e&&e.ticket||"",D):{label:o,bbox:s}=await u(x,"ticket"in e&&e.ticket||"",D);let{label:W,bbox:N}=await u(x,"assigned"in e&&e.assigned||"",D);e.width=w;let A=(null==e?void 0:e.width)||0,L=Math.max(s.height,N.height)/2,R=Math.max(v.height+20,(null==e?void 0:e.height)||0)+L,P=-A/2,Z=-R/2;b.attr("transform","translate("+(M-A/2)+", "+(-L-v.height/2)+")"),o.attr("transform","translate("+(M-A/2)+", "+(-L+v.height/2)+")"),W.attr("transform","translate("+(M+A/2-N.width-20)+", "+(-L+v.height/2)+")");let{rx:I,ry:T}=e,{cssStyles:E}=e;if("handDrawn"===e.look){let t=d.Z.svg(x),a=B(e,{}),l=I||T?t.path(k(P,Z,A,R,I||0),a):t.rectangle(P,Z,A,R,a);(c=x.insert(()=>l,":first-child")).attr("class","basic label-container").attr("style",E||null)}else{(c=x.insert("rect",":first-child")).attr("class","basic label-container __APA__").attr("style",m).attr("rx",null!=I?I:5).attr("ry",null!=T?T:5).attr("x",P).attr("y",Z).attr("width",A).attr("height",R);let t="priority"in e&&e.priority;if(t){let e=x.append("line"),a=P+2,l=Z+Math.floor((null!=I?I:0)/2),n=Z+R-Math.floor((null!=I?I:0)/2);e.attr("x1",a).attr("y1",l).attr("x2",a).attr("y2",n).attr("stroke-width","4").attr("stroke",er(t))}}return g(e,c),e.height=R,e.intersect=function(t){return _.rect(e,t)},x}(0,s.eW)(eo,"kanbanItem");var es=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:tz},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:tY},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:tO},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:tU},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:ts},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:U},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:tj},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:tp},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:tC},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:tW},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:t5},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:tM},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:td},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:tQ},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:X},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:t_},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:tJ},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:tX},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:tg},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:tm},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:$},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:te},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:tl},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:tB},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:t3},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:ty},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:t1},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:tR},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:tn},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:tc},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:t4},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:t9},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:th},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:t8},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:tu},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:tq},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:tI},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:tZ},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:O},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:K},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:tK},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:tG},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:t7},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:tH},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:tP}],ec=(0,s.eW)(()=>Object.fromEntries([...Object.entries({state:tF,choice:J,note:tT,rectWithTitle:tV,labelRect:tD,iconSquare:tb,iconCircle:tx,icon:tw,iconRounded:tv,imageSquare:tk,anchor:q,kanbanItem:eo,classBox:el,erBox:t6,requirementBox:en}),...es.flatMap(t=>[t.shortName,..."aliases"in t?t.aliases:[],..."internalAliases"in t?t.internalAliases:[]].map(e=>[e,t.handler]))]),"generateShapeMap")();function ed(t){return t in ec}(0,s.eW)(ed,"isValidShape");var eh=new Map;async function eu(t,e,a){let l,n;"rect"===e.shape&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");let i=e.shape?ec[e.shape]:void 0;if(!i)throw Error("No such shape: ".concat(e.shape,". Please check your syntax."));if(e.link){let r;"sandbox"===a.config.securityLevel?r="_top":e.linkTarget&&(r=e.linkTarget||"_blank"),l=t.insert("svg:a").attr("xlink:href",e.link).attr("target",null!=r?r:null),n=await i(l,e,a)}else l=n=await i(t,e,a);return e.tooltip&&n.attr("title",e.tooltip),eh.set(e.id,l),e.haveCallback&&l.attr("class",l.attr("class")+" clickable"),l}(0,s.eW)(eu,"insertNode");var eg=(0,s.eW)((t,e)=>{eh.set(e.id,t)},"setNodeElem"),ey=(0,s.eW)(()=>{eh.clear()},"clear"),ef=(0,s.eW)(t=>{let e=eh.get(t.id);s.cM.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");let a=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+a-t.width/2)+", "+(t.y-t.height/2-8)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),a},"positionNode")}}]);